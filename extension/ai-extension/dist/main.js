(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var qf={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function b0(){if(Sy)return Zl;Sy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var Ay;function R0(){return Ay||(Ay=1,qf.exports=b0()),qf.exports}var nt=R0(),Gf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function w0(){if(by)return Et;by=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.iterator;function z(I){return I===null||typeof I!="object"?null:(I=N&&I[N]||I["@@iterator"],typeof I=="function"?I:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,st={};function tt(I,Q,et){this.props=I,this.context=Q,this.refs=st,this.updater=et||X}tt.prototype.isReactComponent={},tt.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},tt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function vt(){}vt.prototype=tt.prototype;function St(I,Q,et){this.props=I,this.context=Q,this.refs=st,this.updater=et||X}var _t=St.prototype=new vt;_t.constructor=St,W(_t,tt.prototype),_t.isPureReactComponent=!0;var Lt=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},Ut=Object.prototype.hasOwnProperty;function O(I,Q,et,$,lt,Ct){return et=Ct.ref,{$$typeof:s,type:I,key:Q,ref:et!==void 0?et:null,props:Ct}}function A(I,Q){return O(I.type,Q,void 0,void 0,void 0,I.props)}function w(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function M(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(et){return Q[et]})}var C=/\/+/g;function U(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):Q.toString(36)}function S(){}function pt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(S,S):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Yt(I,Q,et,$,lt){var Ct=typeof I;(Ct==="undefined"||Ct==="boolean")&&(I=null);var mt=!1;if(I===null)mt=!0;else switch(Ct){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(I.$$typeof){case s:case e:mt=!0;break;case R:return mt=I._init,Yt(mt(I._payload),Q,et,$,lt)}}if(mt)return lt=lt(I),mt=$===""?"."+U(I,0):$,Lt(lt)?(et="",mt!=null&&(et=mt.replace(C,"$&/")+"/"),Yt(lt,Q,et,"",function(wn){return wn})):lt!=null&&(w(lt)&&(lt=A(lt,et+(lt.key==null||I&&I.key===lt.key?"":(""+lt.key).replace(C,"$&/")+"/")+mt)),Q.push(lt)),1;mt=0;var Ce=$===""?".":$+":";if(Lt(I))for(var jt=0;jt<I.length;jt++)$=I[jt],Ct=Ce+U($,jt),mt+=Yt($,Q,et,Ct,lt);else if(jt=z(I),typeof jt=="function")for(I=jt.call(I),jt=0;!($=I.next()).done;)$=$.value,Ct=Ce+U($,jt++),mt+=Yt($,Q,et,Ct,lt);else if(Ct==="object"){if(typeof I.then=="function")return Yt(pt(I),Q,et,$,lt);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(I,Q,et){if(I==null)return I;var $=[],lt=0;return Yt(I,$,"","",function(Ct){return Q.call(et,Ct,lt++)}),$}function J(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(et){(I._status===0||I._status===-1)&&(I._status=1,I._result=et)},function(et){(I._status===0||I._status===-1)&&(I._status=2,I._result=et)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var ot=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Mt(){}return Et.Children={map:H,forEach:function(I,Q,et){H(I,function(){Q.apply(this,arguments)},et)},count:function(I){var Q=0;return H(I,function(){Q++}),Q},toArray:function(I){return H(I,function(Q){return Q})||[]},only:function(I){if(!w(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Et.Component=tt,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=St,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(I){return dt.H.useMemoCache(I)}},Et.cache=function(I){return function(){return I.apply(null,arguments)}},Et.cloneElement=function(I,Q,et){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var $=W({},I.props),lt=I.key,Ct=void 0;if(Q!=null)for(mt in Q.ref!==void 0&&(Ct=void 0),Q.key!==void 0&&(lt=""+Q.key),Q)!Ut.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||($[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)$.children=et;else if(1<mt){for(var Ce=Array(mt),jt=0;jt<mt;jt++)Ce[jt]=arguments[jt+2];$.children=Ce}return O(I.type,lt,void 0,void 0,Ct,$)},Et.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},Et.createElement=function(I,Q,et){var $,lt={},Ct=null;if(Q!=null)for($ in Q.key!==void 0&&(Ct=""+Q.key),Q)Ut.call(Q,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(lt[$]=Q[$]);var mt=arguments.length-2;if(mt===1)lt.children=et;else if(1<mt){for(var Ce=Array(mt),jt=0;jt<mt;jt++)Ce[jt]=arguments[jt+2];lt.children=Ce}if(I&&I.defaultProps)for($ in mt=I.defaultProps,mt)lt[$]===void 0&&(lt[$]=mt[$]);return O(I,Ct,void 0,void 0,null,lt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(I){return{$$typeof:y,render:I}},Et.isValidElement=w,Et.lazy=function(I){return{$$typeof:R,_payload:{_status:-1,_result:I},_init:J}},Et.memo=function(I,Q){return{$$typeof:_,type:I,compare:Q===void 0?null:Q}},Et.startTransition=function(I){var Q=dt.T,et={};dt.T=et;try{var $=I(),lt=dt.S;lt!==null&&lt(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Mt,ot)}catch(Ct){ot(Ct)}finally{dt.T=Q}},Et.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},Et.use=function(I){return dt.H.use(I)},Et.useActionState=function(I,Q,et){return dt.H.useActionState(I,Q,et)},Et.useCallback=function(I,Q){return dt.H.useCallback(I,Q)},Et.useContext=function(I){return dt.H.useContext(I)},Et.useDebugValue=function(){},Et.useDeferredValue=function(I,Q){return dt.H.useDeferredValue(I,Q)},Et.useEffect=function(I,Q,et){var $=dt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(I,Q)},Et.useId=function(){return dt.H.useId()},Et.useImperativeHandle=function(I,Q,et){return dt.H.useImperativeHandle(I,Q,et)},Et.useInsertionEffect=function(I,Q){return dt.H.useInsertionEffect(I,Q)},Et.useLayoutEffect=function(I,Q){return dt.H.useLayoutEffect(I,Q)},Et.useMemo=function(I,Q){return dt.H.useMemo(I,Q)},Et.useOptimistic=function(I,Q){return dt.H.useOptimistic(I,Q)},Et.useReducer=function(I,Q,et){return dt.H.useReducer(I,Q,et)},Et.useRef=function(I){return dt.H.useRef(I)},Et.useState=function(I){return dt.H.useState(I)},Et.useSyncExternalStore=function(I,Q,et){return dt.H.useSyncExternalStore(I,Q,et)},Et.useTransition=function(){return dt.H.useTransition()},Et.version="19.1.1",Et}var Ry;function Cd(){return Ry||(Ry=1,Gf.exports=w0()),Gf.exports}var en=Cd(),Ff={exports:{}},$l={},Yf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function I0(){return wy||(wy=1,(function(s){function e(H,J){var ot=H.length;H.push(J);t:for(;0<ot;){var Mt=ot-1>>>1,I=H[Mt];if(0<o(I,J))H[Mt]=J,H[ot]=I,ot=Mt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var J=H[0],ot=H.pop();if(ot!==J){H[0]=ot;t:for(var Mt=0,I=H.length,Q=I>>>1;Mt<Q;){var et=2*(Mt+1)-1,$=H[et],lt=et+1,Ct=H[lt];if(0>o($,ot))lt<I&&0>o(Ct,$)?(H[Mt]=Ct,H[lt]=ot,Mt=lt):(H[Mt]=$,H[et]=ot,Mt=et);else if(lt<I&&0>o(Ct,ot))H[Mt]=Ct,H[lt]=ot,Mt=lt;else break t}}return J}function o(H,J){var ot=H.sortIndex-J.sortIndex;return ot!==0?ot:H.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],R=1,N=null,z=3,X=!1,W=!1,st=!1,tt=!1,vt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Lt(H){for(var J=i(_);J!==null;){if(J.callback===null)a(_);else if(J.startTime<=H)a(_),J.sortIndex=J.expirationTime,e(v,J);else break;J=i(_)}}function dt(H){if(st=!1,Lt(H),!W)if(i(v)!==null)W=!0,Ut||(Ut=!0,U());else{var J=i(_);J!==null&&Yt(dt,J.startTime-H)}}var Ut=!1,O=-1,A=5,w=-1;function M(){return tt?!0:!(s.unstable_now()-w<A)}function C(){if(tt=!1,Ut){var H=s.unstable_now();w=H;var J=!0;try{t:{W=!1,st&&(st=!1,St(O),O=-1),X=!0;var ot=z;try{e:{for(Lt(H),N=i(v);N!==null&&!(N.expirationTime>H&&M());){var Mt=N.callback;if(typeof Mt=="function"){N.callback=null,z=N.priorityLevel;var I=Mt(N.expirationTime<=H);if(H=s.unstable_now(),typeof I=="function"){N.callback=I,Lt(H),J=!0;break e}N===i(v)&&a(v),Lt(H)}else a(v);N=i(v)}if(N!==null)J=!0;else{var Q=i(_);Q!==null&&Yt(dt,Q.startTime-H),J=!1}}break t}finally{N=null,z=ot,X=!1}J=void 0}}finally{J?U():Ut=!1}}}var U;if(typeof _t=="function")U=function(){_t(C)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,pt=S.port2;S.port1.onmessage=C,U=function(){pt.postMessage(null)}}else U=function(){vt(C,0)};function Yt(H,J){O=vt(function(){H(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_next=function(H){switch(z){case 1:case 2:case 3:var J=3;break;default:J=z}var ot=z;z=J;try{return H()}finally{z=ot}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=z;z=H;try{return J()}finally{z=ot}},s.unstable_scheduleCallback=function(H,J,ot){var Mt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Mt+ot:Mt):ot=Mt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ot+I,H={id:R++,callback:J,priorityLevel:H,startTime:ot,expirationTime:I,sortIndex:-1},ot>Mt?(H.sortIndex=ot,e(_,H),i(v)===null&&H===i(_)&&(st?(St(O),O=-1):st=!0,Yt(dt,ot-Mt))):(H.sortIndex=I,e(v,H),W||X||(W=!0,Ut||(Ut=!0,U()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var J=z;return function(){var ot=z;z=J;try{return H.apply(this,arguments)}finally{z=ot}}}})(Qf)),Qf}var Iy;function C0(){return Iy||(Iy=1,Yf.exports=I0()),Yf.exports}var Kf={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function D0(){if(Cy)return Be;Cy=1;var s=Cd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)_+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:_,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Be.createPortal=function(v,_){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,R)},Be.flushSync=function(v){var _=d.T,R=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=R,a.d.f()}},Be.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Be.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Be.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var R=_.as,N=y(R,_.crossOrigin),z=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;R==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:z,fetchPriority:X}):R==="script"&&a.d.X(v,{crossOrigin:N,integrity:z,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Be.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var R=y(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Be.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var R=_.as,N=y(R,_.crossOrigin);a.d.L(v,R,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Be.preloadModule=function(v,_){if(typeof v=="string")if(_){var R=y(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Be.requestFormReset=function(v){a.d.r(v)},Be.unstable_batchedUpdates=function(v,_){return v(_)},Be.useFormState=function(v,_,R){return d.H.useFormState(v,_,R)},Be.useFormStatus=function(){return d.H.useHostTransitionStatus()},Be.version="19.1.1",Be}var Dy;function O0(){if(Dy)return Kf.exports;Dy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kf.exports=D0(),Kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function N0(){if(Oy)return $l;Oy=1;var s=C0(),e=Cd(),i=O0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return y(c),t;if(f===l)return y(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var R=Object.assign,N=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),vt=Symbol.for("react.provider"),St=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case tt:return"Profiler";case st:return"StrictMode";case dt:return"Suspense";case Ut:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case _t:return(t.displayName||"Context")+".Provider";case St:return(t._context.displayName||"Context")+".Consumer";case Lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:pt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return pt(t(n))}catch{}}return null}var Yt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Mt=[],I=-1;function Q(t){return{current:t}}function et(t){0>I||(t.current=Mt[I],Mt[I]=null,I--)}function $(t,n){I++,Mt[I]=t.current,t.current=n}var lt=Q(null),Ct=Q(null),mt=Q(null),Ce=Q(null);function jt(t,n){switch($(mt,n),$(Ct,t),$(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zp(n),t=$p(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(lt),$(lt,t)}function wn(){et(lt),et(Ct),et(mt)}function Ga(t){t.memoizedState!==null&&$(Ce,t);var n=lt.current,r=$p(n,t.type);n!==r&&($(Ct,t),$(lt,r))}function Ms(t){Ct.current===t&&(et(lt),et(Ct)),Ce.current===t&&(et(Ce),Fl._currentValue=ot)}var Vs=Object.prototype.hasOwnProperty,xr=s.unstable_scheduleCallback,Us=s.unstable_cancelCallback,qc=s.unstable_shouldYield,Fa=s.unstable_requestPaint,$e=s.unstable_now,Do=s.unstable_getCurrentPriorityLevel,ye=s.unstable_ImmediatePriority,Te=s.unstable_UserBlockingPriority,ui=s.unstable_NormalPriority,Gc=s.unstable_LowPriority,Ya=s.unstable_IdlePriority,Fc=s.log,Pr=s.unstable_setDisableYieldValue,ki=null,Le=null;function mn(t){if(typeof Fc=="function"&&Pr(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(ki,t)}catch{}}var Ye=Math.clz32?Math.clz32:No,Yc=Math.log,Oo=Math.LN2;function No(t){return t>>>=0,t===0?32:31-(Yc(t)/Oo|0)|0}var Gn=256,zi=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(p&=E,p!==0?c=In(p):r||(r=E&~t,r!==0&&(c=In(r))))):(E=l&~f,E!==0?c=In(E):p!==0?c=In(p):r||(r=l&~t,r!==0&&(c=In(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qa(){var t=Gn;return Gn<<=1,(Gn&4194048)===0&&(Gn=256),t}function ji(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function Ps(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mo(t,n,r,l,c,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,L=t.hiddenUpdates;for(r=p&~r;0<r;){var q=31-Ye(r),F=1<<q;E[q]=0,b[q]=-1;var k=L[q];if(k!==null)for(L[q]=null,q=0;q<k.length;q++){var B=k[q];B!==null&&(B.lane&=-536870913)}r&=~F}l!==0&&Hi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Hi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function qi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ci(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function Qc(t,n){var r=J.p;try{return J.p=t,n()}finally{J.p=r}}var Fn=Math.random().toString(36).slice(2),le="__reactFiber$"+Fn,De="__reactProps$"+Fn,hi="__reactContainer$"+Fn,Lr="__reactEvents$"+Fn,kr="__reactListeners$"+Fn,Kc="__reactHandles$"+Fn,Cn="__reactResources$"+Fn,Gi="__reactMarker$"+Fn;function Ls(t){delete t[le],delete t[De],delete t[Lr],delete t[kr],delete t[Kc]}function Yn(t){var n=t[le];if(n)return n;for(var r=t.parentNode;r;){if(n=r[hi]||r[le]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ey(t);t!==null;){if(r=t[le])return r;t=ey(t)}return n}t=r,r=t.parentNode}return null}function Qn(t){if(t=t[le]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Fi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Yi(t){var n=t[Cn];return n||(n=t[Cn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Gi]=!0}var Vo=new Set,zr={};function Kn(t,n){Xn(t,n),Xn(t+"Capture",n)}function Xn(t,n){for(zr[t]=n,t=0;t<n.length;t++)Vo.add(n[t])}var Br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zn={},ks={};function Xc(t){return Vs.call(ks,t)?!0:Vs.call(Zn,t)?!1:Br.test(t)?ks[t]=!0:(Zn[t]=!0,!1)}function jr(t,n,r){if(Xc(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Hr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var qr,zs;function fi(t){if(qr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qr=n&&n[1]||"",zs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+t+zs}var Bs=!1;function js(t,n){if(!t||Bs)return"";Bs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(B){var k=B}Reflect.construct(t,[],F)}else{try{F.call()}catch(B){k=B}t.call(F.prototype)}}else{try{throw Error()}catch(B){k=B}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var b=p.split(`
`),L=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===L.length)for(l=b.length-1,c=L.length-1;1<=l&&0<=c&&b[l]!==L[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==L[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==L[c]){var q=`
`+b[l].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=l&&0<=c);break}}}finally{Bs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?fi(r):""}function Zc(t){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return js(t.type,!1);case 11:return js(t.type.render,!1);case 1:return js(t.type,!0);case 31:return fi("Activity");default:return""}}function Dn(t){try{var n="";do n+=Zc(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ee(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gr(t){var n=Qi(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ki(t){t._valueTracker||(t._valueTracker=Gr(t))}function Ht(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fr=/[\n"\\]/g;function Se(t){return t.replace(Fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Za(t,n,r,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ee(n)):t.value!==""+ee(n)&&(t.value=""+ee(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ja(t,p,ee(n)):r!=null?Ja(t,p,ee(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ee(E):t.removeAttribute("name")}function $a(t,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+ee(r):"",n=n!=null?""+ee(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Ja(t,n,r){n==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Xi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+ee(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Uo(t,n,r){if(n!=null&&(n=""+ee(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+ee(r):""}function xo(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Yt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ee(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var mi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wa(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||mi.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function tl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Wa(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Wa(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function On(t){return Lo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var el=null;function nl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,Qe=null;function ko(t){var n=Qn(t);if(n&&(t=n.stateNode)){var r=t[De]||null;t:switch(t=n.stateNode,n.type){case"input":if(Za(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Se(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[De]||null;if(!c)throw Error(a(90));Za(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ht(l)}break t;case"textarea":Uo(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Xi(t,!!r.multiple,n,!1)}}}var Yr=!1;function Qr(t,n,r){if(Yr)return t(n,r);Yr=!0;try{var l=t(n);return l}finally{if(Yr=!1,(Zi!==null||Qe!==null)&&(Iu(),Zi&&(n=Zi,t=Qe,Qe=Zi=null,ko(n),t)))for(n=0;n<t.length;n++)ko(t[n])}}function $i(t,n){var r=t.stateNode;if(r===null)return null;var l=r[De]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Ke=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=!1;if(Ke)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{gi=!1}var _n=null,Kt=null,qs=null;function zo(){if(qs)return qs;var t,n=Kt,r=n.length,l,c="value"in _n?_n.value:_n.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return qs=c.slice(t,1<l?1-l:void 0)}function Kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xr(){return!0}function il(){return!1}function _e(t){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xr:il,this.isPropagationStopped=il,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),n}var ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=_e(ke),$r=R({},ke,{view:0,detail:0}),Jr=_e($r),Gs,Wr,$n,ts=R({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?(Gs=t.screenX-$n.screenX,Wr=t.screenY-$n.screenY):Wr=Gs=0,$n=t),Gs)},movementY:function(t){return"movementY"in t?t.movementY:Wr}}),es=_e(ts),$c=R({},ts,{dataTransfer:0}),Bo=_e($c),ns=R({},$r,{relatedTarget:0}),Fs=_e(ns),jo=R({},ke,{animationName:0,elapsedTime:0,pseudoElement:0}),rl=_e(jo),sl=R({},ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ho=_e(sl),Ys=R({},ke,{data:0}),al=_e(Ys),qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Go[t])?!!n[t]:!1}function Qs(){return Fo}var Yo=R({},$r,{key:function(t){if(t.key){var n=qo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?Kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ks=_e(Yo),Xe=R({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=_e(Xe),Qo=R({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),Wi=_e(Qo),u=R({},ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=_e(u),g=R({},ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T=_e(g),P=R({},ke,{newState:0,oldState:0}),j=_e(P),Z=[9,13,27,32],yt=Ke&&"CompositionEvent"in window,$t=null;Ke&&"documentMode"in document&&($t=document.documentMode);var kt=Ke&&"TextEvent"in window&&!$t,ue=Ke&&(!yt||$t&&8<$t&&11>=$t),sn=" ",Jn=!1;function Nn(t,n){switch(t){case"keyup":return Z.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vn=!1;function ol(t,n){switch(t){case"compositionend":return Mn(n);case"keypress":return n.which!==32?null:(Jn=!0,sn);case"textInput":return t=n.data,t===sn&&Jn?null:t;default:return null}}function $E(t,n){if(Vn)return t==="compositionend"||!yt&&Nn(t,n)?(t=zo(),qs=Kt=_n=null,Vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ue&&n.locale!=="ko"?null:n.data;default:return null}}var JE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!JE[t.type]:n==="textarea"}function hm(t,n,r,l){Zi?Qe?Qe.push(l):Qe=[l]:Zi=l,n=Vu(n,"onChange"),0<n.length&&(r=new Zr("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ul=null,cl=null;function WE(t){Fp(t,0)}function Ko(t){var n=Fi(t);if(Ht(n))return t}function fm(t,n){if(t==="change")return n}var dm=!1;if(Ke){var Jc;if(Ke){var Wc="oninput"in document;if(!Wc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Wc=typeof mm.oninput=="function"}Jc=Wc}else Jc=!1;dm=Jc&&(!document.documentMode||9<document.documentMode)}function gm(){ul&&(ul.detachEvent("onpropertychange",pm),cl=ul=null)}function pm(t){if(t.propertyName==="value"&&Ko(cl)){var n=[];hm(n,cl,t,nl(t)),Qr(WE,n)}}function tT(t,n,r){t==="focusin"?(gm(),ul=n,cl=r,ul.attachEvent("onpropertychange",pm)):t==="focusout"&&gm()}function eT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ko(cl)}function nT(t,n){if(t==="click")return Ko(n)}function iT(t,n){if(t==="input"||t==="change")return Ko(n)}function rT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:rT;function hl(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Vs.call(n,c)||!an(t[c],n[c]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var r=ym(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ym(r)}}function vm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Em(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=di(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=di(t.document)}return n}function th(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var sT=Ke&&"documentMode"in document&&11>=document.documentMode,Xs=null,eh=null,fl=null,nh=!1;function Tm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nh||Xs==null||Xs!==di(l)||(l=Xs,"selectionStart"in l&&th(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Vu(eh,"onSelect"),0<l.length&&(n=new Zr("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Xs)))}function is(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Zs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},ih={},Sm={};Ke&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function rs(t){if(ih[t])return ih[t];if(!Zs[t])return t;var n=Zs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sm)return ih[t]=n[r];return t}var Am=rs("animationend"),bm=rs("animationiteration"),Rm=rs("animationstart"),aT=rs("transitionrun"),lT=rs("transitionstart"),oT=rs("transitioncancel"),wm=rs("transitionend"),Im=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function Un(t,n){Im.set(t,n),Kn(n,[t])}var Cm=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=Cm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Dn(n)},Cm.set(t,n),n)}return{value:t,source:n,stack:Dn(n)}}var En=[],$s=0,sh=0;function Xo(){for(var t=$s,n=sh=$s=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&Dm(r,c,f)}}function Zo(t,n,r,l){En[$s++]=t,En[$s++]=n,En[$s++]=r,En[$s++]=l,sh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ah(t,n,r,l){return Zo(t,n,r,l),$o(t)}function Js(t,n){return Zo(t,null,null,n),$o(t)}function Dm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ye(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function $o(t){if(50<Ll)throw Ll=0,df=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ws={};function uT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new uT(t,n,r,l)}function lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Om(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Jo(t,n,r,l,c,f){var p=0;if(l=t,typeof t=="function")lh(t)&&(p=1);else if(typeof t=="string")p=h0(t,r,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=ln(31,r,n,c),t.elementType=w,t.lanes=f,t;case W:return ss(r.children,c,f,n);case st:p=8,c|=24;break;case tt:return t=ln(12,r,n,c|2),t.elementType=tt,t.lanes=f,t;case dt:return t=ln(13,r,n,c),t.elementType=dt,t.lanes=f,t;case Ut:return t=ln(19,r,n,c),t.elementType=Ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vt:case _t:p=10;break t;case St:p=9;break t;case Lt:p=11;break t;case O:p=14;break t;case A:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=ln(p,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ss(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function oh(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function uh(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ta=[],ea=0,Wo=null,tu=0,Tn=[],Sn=0,as=null,_i=1,vi="";function ls(t,n){ta[ea++]=tu,ta[ea++]=Wo,Wo=t,tu=n}function Nm(t,n,r){Tn[Sn++]=_i,Tn[Sn++]=vi,Tn[Sn++]=as,as=t;var l=_i;t=vi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,_i=1<<32-Ye(n)+c|r<<c|l,vi=f+t}else _i=1<<f|r<<c|l,vi=t}function ch(t){t.return!==null&&(ls(t,1),Nm(t,1,0))}function hh(t){for(;t===Wo;)Wo=ta[--ea],ta[ea]=null,tu=ta[--ea],ta[ea]=null;for(;t===as;)as=Tn[--Sn],Tn[Sn]=null,vi=Tn[--Sn],Tn[Sn]=null,_i=Tn[--Sn],Tn[Sn]=null}var Ze=null,ie=null,xt=!1,os=null,Wn=!1,fh=Error(a(519));function us(t){var n=Error(a(418,""));throw gl(vn(n,t)),fh}function Mm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[le]=t,n[De]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<zl.length;r++)It(zl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),$a(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ki(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),xo(n,l.value,l.defaultValue,l.children),Ki(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Xp(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Uu),n=!0):n=!1,n||us(t)}function Vm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Ze=Ze.return}}function dl(t){if(t!==Ze)return!1;if(!xt)return Vm(t),xt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Df(t.type,t.memoizedProps)),r=!r),r&&ie&&us(t),Vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ie=Pn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ie=null}}else n===27?(n=ie,gr(t.type)?(t=Vf,Vf=null,ie=t):ie=n):ie=Ze?Pn(t.stateNode.nextSibling):null;return!0}function ml(){ie=Ze=null,xt=!1}function Um(){var t=os;return t!==null&&(tn===null?tn=t:tn.push.apply(tn,t),os=null),t}function gl(t){os===null?os=[t]:os.push(t)}var dh=Q(null),cs=null,Ei=null;function tr(t,n,r){$(dh,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=dh.current,et(dh)}function mh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function gh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),mh(f.return,r,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),mh(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function pl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;an(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}c=c.return}t!==null&&gh(n,t,r,l),n.flags|=262144}function eu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hs(t){cs=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ze(t){return xm(cs,t)}function nu(t,n){return cs===null&&hs(t),xm(t,n)}function xm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var cT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},hT=s.unstable_scheduleCallback,fT=s.unstable_NormalPriority,ve={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new cT,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&hT(fT,function(){t.controller.abort()})}var _l=null,yh=0,na=0,ia=null;function dT(t,n){if(_l===null){var r=_l=[];yh=0,na=Ef(),ia={status:"pending",value:void 0,then:function(l){r.push(l)}}}return yh++,n.then(Pm,Pm),n}function Pm(){if(--yh===0&&_l!==null){ia!==null&&(ia.status="fulfilled");var t=_l;_l=null,na=0,ia=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Lm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&dT(t,n),Lm!==null&&Lm(t,n)};var fs=Q(null);function _h(){var t=fs.current;return t!==null?t:Xt.pooledCache}function iu(t,n){n===null?$(fs,fs.current):$(fs,n.pool)}function km(){var t=_h();return t===null?null:{parent:ve._currentValue,pool:t}}var vl=Error(a(460)),zm=Error(a(474)),ru=Error(a(542)),vh={then:function(){}};function Bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function su(){}function jm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(su,su),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t;default:if(typeof n.status=="string")n.then(su,su);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t}throw El=n,vl}}var El=null;function Hm(){if(El===null)throw Error(a(459));var t=El;return El=null,t}function qm(t){if(t===vl||t===ru)throw Error(a(483))}var er=!1;function Eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ir(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(zt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=$o(t),Dm(t,null,r),n}return Zo(t,l,n,r),$o(t)}function Tl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}function Sh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ah=!1;function Sl(){if(Ah){var t=ia;if(t!==null)throw t}}function Al(t,n,r,l){Ah=!1;var c=t.updateQueue;er=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,L=b.next;b.next=null,p===null?f=L:p.next=L,p=b;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==p&&(E===null?q.firstBaseUpdate=L:E.next=L,q.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;p=0,q=L=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Ot&k)===k:(l&k)===k){k!==0&&k===na&&(Ah=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ct=E;k=n;var Ft=r;switch(ct.tag){case 1:if(gt=ct.payload,typeof gt=="function"){F=gt.call(Ft,F,k);break t}F=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ct.payload,k=typeof gt=="function"?gt.call(Ft,F,k):gt,k==null)break t;F=R({},F,k);break t;case 2:er=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(L=q=B,b=F):q=q.next=B,p|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);q===null&&(b=F),c.baseState=b,c.firstBaseUpdate=L,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),hr|=p,t.lanes=p,t.memoizedState=F}}function Gm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Fm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Gm(r[t],n)}var ra=Q(null),au=Q(0);function Ym(t,n){t=Ci,$(au,t),$(ra,n),Ci=t|n.baseLanes}function bh(){$(au,Ci),$(ra,ra.current)}function Rh(){Ci=au.current,et(ra),et(au)}var rr=0,At=null,qt=null,de=null,lu=!1,sa=!1,ds=!1,ou=0,bl=0,aa=null,gT=0;function ce(){throw Error(a(321))}function wh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function Ih(t,n,r,l,c,f){return rr=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Dg:Og,ds=!1,f=r(l,c),ds=!1,sa&&(f=Km(n,r,l,c)),Qm(t),f}function Qm(t){H.H=mu;var n=qt!==null&&qt.next!==null;if(rr=0,de=qt=At=null,lu=!1,bl=0,aa=null,n)throw Error(a(300));t===null||Ae||(t=t.dependencies,t!==null&&eu(t)&&(Ae=!0))}function Km(t,n,r,l){At=t;var c=0;do{if(sa&&(aa=null),bl=0,sa=!1,25<=c)throw Error(a(301));if(c+=1,de=qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=ST,f=n(r,l)}while(sa);return f}function pT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Rl(n):n,t=t.useState()[0],(qt!==null?qt.memoizedState:null)!==t&&(At.flags|=1024),n}function Ch(){var t=ou!==0;return ou=0,t}function Dh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Oh(t){if(lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lu=!1}rr=0,de=qt=At=null,sa=!1,bl=ou=0,aa=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?At.memoizedState=de=t:de=de.next=t,de}function me(){if(qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var n=de===null?At.memoizedState:de.next;if(n!==null)de=n,qt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},de===null?At.memoizedState=de=t:de=de.next=t}return de}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var n=bl;return bl+=1,aa===null&&(aa=[]),t=jm(aa,t,n),n=At,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dg:Og),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===_t)return ze(t)}throw Error(a(438,String(t)))}function Mh(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Nh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function Si(t,n){return typeof n=="function"?n(t):n}function cu(t){var n=me();return Vh(n,qt,t)}function Vh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,b=null,L=n,q=!1;do{var F=L.lane&-536870913;if(F!==L.lane?(Ot&F)===F:(rr&F)===F){var k=L.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),F===na&&(q=!0);else if((rr&k)===k){L=L.next,k===na&&(q=!0);continue}else F={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=F,p=f):b=b.next=F,At.lanes|=k,hr|=k;F=L.action,ds&&r(f,F),f=L.hasEagerState?L.eagerState:r(f,F)}else k={lane:F,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=k,p=f):b=b.next=k,At.lanes|=F,hr|=F;L=L.next}while(L!==null&&L!==n);if(b===null?p=f:b.next=E,!an(f,t.memoizedState)&&(Ae=!0,q&&(r=ia,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Uh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);an(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Xm(t,n,r){var l=At,c=me(),f=xt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!an((qt||c).memoizedState,r);p&&(c.memoizedState=r,Ae=!0),c=c.queue;var E=Jm.bind(null,l,c,t);if(wl(2048,8,E,[t]),c.getSnapshot!==n||p||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,la(9,hu(),$m.bind(null,l,c,r,n),null),Xt===null)throw Error(a(349));f||(rr&124)!==0||Zm(l,n,r)}return r}function Zm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Nh(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function $m(t,n,r,l){n.value=r,n.getSnapshot=l,Wm(n)&&tg(t)}function Jm(t,n,r){return r(function(){Wm(n)&&tg(t)})}function Wm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function tg(t){var n=Js(t,2);n!==null&&fn(n,t,2)}function xh(t){var n=Je();if(typeof t=="function"){var r=t;if(t=r(),ds){mn(!0);try{r()}finally{mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},n}function eg(t,n,r,l){return t.baseState=r,Vh(t,qt,typeof l=="function"?l:Si)}function yT(t,n,r,l,c){if(du(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ng(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ng(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(c,l),b=H.S;b!==null&&b(p,E),ig(t,n,E)}catch(L){Ph(t,n,L)}finally{H.T=f}}else try{f=r(c,l),ig(t,n,f)}catch(L){Ph(t,n,L)}}function ig(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){rg(t,n,l)},function(l){return Ph(t,n,l)}):rg(t,n,r)}function rg(t,n,r){n.status="fulfilled",n.value=r,sg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ng(t,r)))}function Ph(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,sg(n),n=n.next;while(n!==l)}t.action=null}function sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ag(t,n){return n}function lg(t,n){if(xt){var r=Xt.formState;if(r!==null){t:{var l=At;if(xt){if(ie){e:{for(var c=ie,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Pn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ie=Pn(c.nextSibling),l=c.data==="F!";break t}}us(l)}l=!1}l&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},r.queue=l,r=wg.bind(null,At,l),l.dispatch=r,l=xh(!1),f=jh.bind(null,At,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=yT.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function og(t){var n=me();return ug(n,qt,t)}function ug(t,n,r){if(n=Vh(t,n,ag)[0],t=cu(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Rl(n)}catch(p){throw p===vl?ru:p}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,la(9,hu(),_T.bind(null,c,r),null)),[l,f,t]}function _T(t,n){t.action=n}function cg(t){var n=me(),r=qt;if(r!==null)return ug(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function la(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Nh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function hu(){return{destroy:void 0,resource:void 0}}function hg(){return me().memoizedState}function fu(t,n,r,l){var c=Je();l=l===void 0?null:l,At.flags|=t,c.memoizedState=la(1|n,hu(),r,l)}function wl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;qt!==null&&l!==null&&wh(l,qt.memoizedState.deps)?c.memoizedState=la(n,f,r,l):(At.flags|=t,c.memoizedState=la(1|n,f,r,l))}function fg(t,n){fu(8390656,8,t,n)}function dg(t,n){wl(2048,8,t,n)}function mg(t,n){return wl(4,2,t,n)}function gg(t,n){return wl(4,4,t,n)}function pg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function yg(t,n,r){r=r!=null?r.concat([t]):null,wl(4,4,pg.bind(null,n,t),r)}function Lh(){}function _g(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&wh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function vg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&wh(n,l[1]))return l[0];if(l=t(),ds){mn(!0);try{t()}finally{mn(!1)}}return r.memoizedState=[l,n],l}function kh(t,n,r){return r===void 0||(rr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Sp(),At.lanes|=t,hr|=t,r)}function Eg(t,n,r,l){return an(r,n)?r:ra.current!==null?(t=kh(t,r,l),an(t,n)||(Ae=!0),t):(rr&42)===0?(Ae=!0,t.memoizedState=r):(t=Sp(),At.lanes|=t,hr|=t,n)}function Tg(t,n,r,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,jh(t,!1,n,r);try{var b=c(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=mT(b,l);Il(t,n,q,hn(t))}else Il(t,n,l,hn(t))}catch(F){Il(t,n,{then:function(){},status:"rejected",reason:F},hn())}finally{J.p=f,H.T=p}}function vT(){}function zh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Sg(t).queue;Tg(t,c,n,ot,r===null?vT:function(){return Ag(t),r(l)})}function Sg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ag(t){var n=Sg(t).next.queue;Il(t,n,{},hn())}function Bh(){return ze(Fl)}function bg(){return me().memoizedState}function Rg(){return me().memoizedState}function ET(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=nr(r);var l=ir(n,t,r);l!==null&&(fn(l,n,r),Tl(l,n,r)),n={cache:ph()},t.payload=n;return}n=n.return}}function TT(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},du(t)?Ig(n,r):(r=ah(t,n,r,l),r!==null&&(fn(r,t,l),Cg(r,n,l)))}function wg(t,n,r){var l=hn();Il(t,n,r,l)}function Il(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(du(t))Ig(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,p))return Zo(t,n,c,0),Xt===null&&Xo(),!1}catch{}finally{}if(r=ah(t,n,c,l),r!==null)return fn(r,t,l),Cg(r,n,l),!0}return!1}function jh(t,n,r,l){if(l={lane:2,revertLane:Ef(),action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(a(479))}else n=ah(t,r,l,2),n!==null&&fn(n,t,2)}function du(t){var n=t.alternate;return t===At||n!==null&&n===At}function Ig(t,n){sa=lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Cg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}var mu={readContext:ze,use:uu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Dg={readContext:ze,use:uu,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:ze,useEffect:fg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,fu(4194308,4,pg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var r=Je();n=n===void 0?null:n;var l=t();if(ds){mn(!0);try{t()}finally{mn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Je();if(r!==void 0){var c=r(n);if(ds){mn(!0);try{r(n)}finally{mn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=TT.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=xh(t);var n=t.queue,r=wg.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Lh,useDeferredValue:function(t,n){var r=Je();return kh(r,t,n)},useTransition:function(){var t=xh(!1);return t=Tg.bind(null,At,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=Je();if(xt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Xt===null)throw Error(a(349));(Ot&124)!==0||Zm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,fg(Jm.bind(null,l,f,t),[t]),l.flags|=2048,la(9,hu(),$m.bind(null,l,f,r,n),null),r},useId:function(){var t=Je(),n=Xt.identifierPrefix;if(xt){var r=vi,l=_i;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=""+n+"R"+r,r=ou++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=gT++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Bh,useFormState:lg,useActionState:lg,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jh.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:Mh,useCacheRefresh:function(){return Je().memoizedState=ET.bind(null,At)}},Og={readContext:ze,use:uu,useCallback:_g,useContext:ze,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:cu,useRef:hg,useState:function(){return cu(Si)},useDebugValue:Lh,useDeferredValue:function(t,n){var r=me();return Eg(r,qt.memoizedState,t,n)},useTransition:function(){var t=cu(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:Bh,useFormState:og,useActionState:og,useOptimistic:function(t,n){var r=me();return eg(r,qt,t,n)},useMemoCache:Mh,useCacheRefresh:Rg},ST={readContext:ze,use:uu,useCallback:_g,useContext:ze,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:Uh,useRef:hg,useState:function(){return Uh(Si)},useDebugValue:Lh,useDeferredValue:function(t,n){var r=me();return qt===null?kh(r,t,n):Eg(r,qt.memoizedState,t,n)},useTransition:function(){var t=Uh(Si)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:Bh,useFormState:cg,useActionState:cg,useOptimistic:function(t,n){var r=me();return qt!==null?eg(r,qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Mh,useCacheRefresh:Rg},oa=null,Cl=0;function gu(t){var n=Cl;return Cl+=1,oa===null&&(oa=[]),jm(oa,t,n)}function Dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function pu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ng(t){var n=t._init;return n(t._payload)}function Mg(t){function n(V,D){if(t){var x=V.deletions;x===null?(V.deletions=[D],V.flags|=16):x.push(D)}}function r(V,D){if(!t)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function c(V,D){return V=yi(V,D),V.index=0,V.sibling=null,V}function f(V,D,x){return V.index=x,t?(x=V.alternate,x!==null?(x=x.index,x<D?(V.flags|=67108866,D):x):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,x,G){return D===null||D.tag!==6?(D=oh(x,V.mode,G),D.return=V,D):(D=c(D,x),D.return=V,D)}function b(V,D,x,G){var it=x.type;return it===W?q(V,D,x.props.children,G,x.key):D!==null&&(D.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&Ng(it)===D.type)?(D=c(D,x.props),Dl(D,x),D.return=V,D):(D=Jo(x.type,x.key,x.props,null,V.mode,G),Dl(D,x),D.return=V,D)}function L(V,D,x,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==x.containerInfo||D.stateNode.implementation!==x.implementation?(D=uh(x,V.mode,G),D.return=V,D):(D=c(D,x.children||[]),D.return=V,D)}function q(V,D,x,G,it){return D===null||D.tag!==7?(D=ss(x,V.mode,G,it),D.return=V,D):(D=c(D,x),D.return=V,D)}function F(V,D,x){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=oh(""+D,V.mode,x),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return x=Jo(D.type,D.key,D.props,null,V.mode,x),Dl(x,D),x.return=V,x;case X:return D=uh(D,V.mode,x),D.return=V,D;case A:var G=D._init;return D=G(D._payload),F(V,D,x)}if(Yt(D)||U(D))return D=ss(D,V.mode,x,null),D.return=V,D;if(typeof D.then=="function")return F(V,gu(D),x);if(D.$$typeof===_t)return F(V,nu(V,D),x);pu(V,D)}return null}function k(V,D,x,G){var it=D!==null?D.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return it!==null?null:E(V,D,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case z:return x.key===it?b(V,D,x,G):null;case X:return x.key===it?L(V,D,x,G):null;case A:return it=x._init,x=it(x._payload),k(V,D,x,G)}if(Yt(x)||U(x))return it!==null?null:q(V,D,x,G,null);if(typeof x.then=="function")return k(V,D,gu(x),G);if(x.$$typeof===_t)return k(V,D,nu(V,x),G);pu(V,x)}return null}function B(V,D,x,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(x)||null,E(D,V,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return V=V.get(G.key===null?x:G.key)||null,b(D,V,G,it);case X:return V=V.get(G.key===null?x:G.key)||null,L(D,V,G,it);case A:var Rt=G._init;return G=Rt(G._payload),B(V,D,x,G,it)}if(Yt(G)||U(G))return V=V.get(x)||null,q(D,V,G,it,null);if(typeof G.then=="function")return B(V,D,x,gu(G),it);if(G.$$typeof===_t)return B(V,D,x,nu(D,G),it);pu(D,G)}return null}function gt(V,D,x,G){for(var it=null,Rt=null,at=D,ht=D=0,Re=null;at!==null&&ht<x.length;ht++){at.index>ht?(Re=at,at=null):Re=at.sibling;var Vt=k(V,at,x[ht],G);if(Vt===null){at===null&&(at=Re);break}t&&at&&Vt.alternate===null&&n(V,at),D=f(Vt,D,ht),Rt===null?it=Vt:Rt.sibling=Vt,Rt=Vt,at=Re}if(ht===x.length)return r(V,at),xt&&ls(V,ht),it;if(at===null){for(;ht<x.length;ht++)at=F(V,x[ht],G),at!==null&&(D=f(at,D,ht),Rt===null?it=at:Rt.sibling=at,Rt=at);return xt&&ls(V,ht),it}for(at=l(at);ht<x.length;ht++)Re=B(at,V,ht,x[ht],G),Re!==null&&(t&&Re.alternate!==null&&at.delete(Re.key===null?ht:Re.key),D=f(Re,D,ht),Rt===null?it=Re:Rt.sibling=Re,Rt=Re);return t&&at.forEach(function(Er){return n(V,Er)}),xt&&ls(V,ht),it}function ct(V,D,x,G){if(x==null)throw Error(a(151));for(var it=null,Rt=null,at=D,ht=D=0,Re=null,Vt=x.next();at!==null&&!Vt.done;ht++,Vt=x.next()){at.index>ht?(Re=at,at=null):Re=at.sibling;var Er=k(V,at,Vt.value,G);if(Er===null){at===null&&(at=Re);break}t&&at&&Er.alternate===null&&n(V,at),D=f(Er,D,ht),Rt===null?it=Er:Rt.sibling=Er,Rt=Er,at=Re}if(Vt.done)return r(V,at),xt&&ls(V,ht),it;if(at===null){for(;!Vt.done;ht++,Vt=x.next())Vt=F(V,Vt.value,G),Vt!==null&&(D=f(Vt,D,ht),Rt===null?it=Vt:Rt.sibling=Vt,Rt=Vt);return xt&&ls(V,ht),it}for(at=l(at);!Vt.done;ht++,Vt=x.next())Vt=B(at,V,ht,Vt.value,G),Vt!==null&&(t&&Vt.alternate!==null&&at.delete(Vt.key===null?ht:Vt.key),D=f(Vt,D,ht),Rt===null?it=Vt:Rt.sibling=Vt,Rt=Vt);return t&&at.forEach(function(A0){return n(V,A0)}),xt&&ls(V,ht),it}function Ft(V,D,x,G){if(typeof x=="object"&&x!==null&&x.type===W&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case z:t:{for(var it=x.key;D!==null;){if(D.key===it){if(it=x.type,it===W){if(D.tag===7){r(V,D.sibling),G=c(D,x.props.children),G.return=V,V=G;break t}}else if(D.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===A&&Ng(it)===D.type){r(V,D.sibling),G=c(D,x.props),Dl(G,x),G.return=V,V=G;break t}r(V,D);break}else n(V,D);D=D.sibling}x.type===W?(G=ss(x.props.children,V.mode,G,x.key),G.return=V,V=G):(G=Jo(x.type,x.key,x.props,null,V.mode,G),Dl(G,x),G.return=V,V=G)}return p(V);case X:t:{for(it=x.key;D!==null;){if(D.key===it)if(D.tag===4&&D.stateNode.containerInfo===x.containerInfo&&D.stateNode.implementation===x.implementation){r(V,D.sibling),G=c(D,x.children||[]),G.return=V,V=G;break t}else{r(V,D);break}else n(V,D);D=D.sibling}G=uh(x,V.mode,G),G.return=V,V=G}return p(V);case A:return it=x._init,x=it(x._payload),Ft(V,D,x,G)}if(Yt(x))return gt(V,D,x,G);if(U(x)){if(it=U(x),typeof it!="function")throw Error(a(150));return x=it.call(x),ct(V,D,x,G)}if(typeof x.then=="function")return Ft(V,D,gu(x),G);if(x.$$typeof===_t)return Ft(V,D,nu(V,x),G);pu(V,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,D!==null&&D.tag===6?(r(V,D.sibling),G=c(D,x),G.return=V,V=G):(r(V,D),G=oh(x,V.mode,G),G.return=V,V=G),p(V)):r(V,D)}return function(V,D,x,G){try{Cl=0;var it=Ft(V,D,x,G);return oa=null,it}catch(at){if(at===vl||at===ru)throw at;var Rt=ln(29,at,null,V.mode);return Rt.lanes=G,Rt.return=V,Rt}finally{}}}var ua=Mg(!0),Vg=Mg(!1),An=Q(null),ti=null;function sr(t){var n=t.alternate;$(Ee,Ee.current&1),$(An,t),ti===null&&(n===null||ra.current!==null||n.memoizedState!==null)&&(ti=t)}function Ug(t){if(t.tag===22){if($(Ee,Ee.current),$(An,t),ti===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ti=t)}}else ar()}function ar(){$(Ee,Ee.current),$(An,An.current)}function Ai(t){et(An),ti===t&&(ti=null),et(Ee)}var Ee=Q(0);function yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Mf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Hh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:R({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=nr(l);c.payload=n,r!=null&&(c.callback=r),n=ir(t,c,l),n!==null&&(fn(n,t,l),Tl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=nr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ir(t,c,l),n!==null&&(fn(n,t,l),Tl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=nr(r);l.tag=2,n!=null&&(l.callback=n),n=ir(t,l,r),n!==null&&(fn(n,t,r),Tl(n,t,r))}};function xg(t,n,r,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!hl(r,l)||!hl(c,f):!0}function Pg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&qh.enqueueReplaceState(n,n.state,null)}function ms(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=R({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var _u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Lg(t){_u(t)}function kg(t){console.error(t)}function zg(t){_u(t)}function vu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Bg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Gh(t,n,r){return r=nr(r),r.tag=3,r.payload={element:null},r.callback=function(){vu(t,n)},r}function jg(t){return t=nr(t),t.tag=3,t}function Hg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Bg(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Bg(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function AT(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&pl(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return ti===null?gf():r.alternate===null&&re===0&&(re=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===vh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),yf(t,l,c)),!1;case 22:return r.flags|=65536,l===vh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),yf(t,l,c)),!1}throw Error(a(435,r.tag))}return yf(t,l,c),gf(),!1}if(xt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==fh&&(t=Error(a(422),{cause:l}),gl(vn(t,r)))):(l!==fh&&(n=Error(a(423),{cause:l}),gl(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=Gh(t.stateNode,l,c),Sh(t,c),re!==4&&(re=2)),!1;var f=Error(a(520),{cause:l});if(f=vn(f,r),Pl===null?Pl=[f]:Pl.push(f),re!==4&&(re=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Gh(r.stateNode,l,t),Sh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=jg(c),Hg(c,t,r,l),Sh(r,c),!1}r=r.return}while(r!==null);return!1}var qg=Error(a(461)),Ae=!1;function Oe(t,n,r,l){n.child=t===null?Vg(n,null,r,l):ua(n,t.child,r,l)}function Gg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return hs(n),l=Ih(t,n,r,p,f,c),E=Ch(),t!==null&&!Ae?(Dh(t,n,c),bi(t,n,c)):(xt&&E&&ch(n),n.flags|=1,Oe(t,n,l,c),n.child)}function Fg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!lh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Yg(t,n,f,l,c)):(t=Jo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jh(t,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:hl,r(p,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(hl(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,Jh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Fh(t,n,r,l,c)}function Qg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Kg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(n,f!==null?f.cachePool:null),f!==null?Ym(n,f):bh(),Ug(n);else return n.lanes=n.childLanes=536870912,Kg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(iu(n,f.cachePool),Ym(n,f),ar(),n.memoizedState=null):(t!==null&&iu(n,null),bh(),ar());return Oe(t,n,c,r),n.child}function Kg(t,n,r,l){var c=_h();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&iu(n,null),bh(),Ug(n),t!==null&&pl(t,n,l,!0),null}function Eu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Fh(t,n,r,l,c){return hs(n),r=Ih(t,n,r,l,void 0,c),l=Ch(),t!==null&&!Ae?(Dh(t,n,c),bi(t,n,c)):(xt&&l&&ch(n),n.flags|=1,Oe(t,n,r,c),n.child)}function Xg(t,n,r,l,c,f){return hs(n),n.updateQueue=null,r=Km(n,l,r,c),Qm(t),l=Ch(),t!==null&&!Ae?(Dh(t,n,f),bi(t,n,f)):(xt&&l&&ch(n),n.flags|=1,Oe(t,n,r,f),n.child)}function Zg(t,n,r,l,c){if(hs(n),n.stateNode===null){var f=Ws,p=r.contextType;typeof p=="object"&&p!==null&&(f=ze(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Eh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?ze(p):Ws,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Hh(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&qh.enqueueReplaceState(f,f.state,null),Al(n,l,f,c),Sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ms(r,E);f.props=b;var L=f.context,q=r.contextType;p=Ws,typeof q=="object"&&q!==null&&(p=ze(q));var F=r.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==p)&&Pg(n,f,l,p),er=!1;var k=n.memoizedState;f.state=k,Al(n,l,f,c),Sl(),L=n.memoizedState,E||k!==L||er?(typeof F=="function"&&(Hh(n,r,F,l),L=n.memoizedState),(b=er||xg(n,r,b,l,k,L,p))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=p,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Th(t,n),p=n.memoizedProps,q=ms(r,p),f.props=q,F=n.pendingProps,k=f.context,L=r.contextType,b=Ws,typeof L=="object"&&L!==null&&(b=ze(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==F||k!==b)&&Pg(n,f,l,b),er=!1,k=n.memoizedState,f.state=k,Al(n,l,f,c),Sl();var B=n.memoizedState;p!==F||k!==B||er||t!==null&&t.dependencies!==null&&eu(t.dependencies)?(typeof E=="function"&&(Hh(n,r,E,l),B=n.memoizedState),(q=er||xg(n,r,q,l,k,B,b)||t!==null&&t.dependencies!==null&&eu(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Eu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ua(n,t.child,null,c),n.child=ua(n,null,r,c)):Oe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function $g(t,n,r,l){return ml(),n.flags|=256,Oe(t,n,r,l),n.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(t){return{baseLanes:t,cachePool:km()}}function Kh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function Jg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(c?sr(n):ar(),xt){var E=ie,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Pn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:as!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ie=null,b=!0):b=!1}b||us(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Mf(E)?n.lanes=32:n.lanes=536870912,null;Ai(n)}return E=l.children,l=l.fallback,c?(ar(),c=n.mode,E=Tu({mode:"hidden",children:E},c),l=ss(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Qh(r),c.childLanes=Kh(t,p,r),n.memoizedState=Yh,l):(sr(n),Xh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(sr(n),n.flags&=-257,n=Zh(t,n,r)):n.memoizedState!==null?(ar(),n.child=t.child,n.flags|=128,n=null):(ar(),c=l.fallback,E=n.mode,l=Tu({mode:"visible",children:l.children},E),c=ss(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ua(n,t.child,null,r),l=n.child,l.memoizedState=Qh(r),l.childLanes=Kh(t,p,r),n.memoizedState=Yh,n=c);else if(sr(n),Mf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var L=p.dgst;p=L,l=Error(a(419)),l.stack="",l.digest=p,gl({value:l,source:null,stack:null}),n=Zh(t,n,r)}else if(Ae||pl(t,n,r,!1),p=(r&t.childLanes)!==0,Ae||p){if(p=Xt,p!==null&&(l=r&-r,l=(l&42)!==0?1:Ka(l),l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Js(t,l),fn(p,t,l),qg;E.data==="$?"||gf(),n=Zh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ie=Pn(E.nextSibling),Ze=n,xt=!0,os=null,Wn=!1,t!==null&&(Tn[Sn++]=_i,Tn[Sn++]=vi,Tn[Sn++]=as,_i=t.id,vi=t.overflow,as=n),n=Xh(n,l.children),n.flags|=4096);return n}return c?(ar(),c=l.fallback,E=n.mode,b=t.child,L=b.sibling,l=yi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,L!==null?c=yi(L,c):(c=ss(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Qh(r):(b=E.cachePool,b!==null?(L=ve._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=km(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Kh(t,p,r),n.memoizedState=Yh,l):(sr(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Xh(t,n){return n=Tu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Tu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zh(t,n,r){return ua(n,t.child,null,r),t=Xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,r)}function $h(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function tp(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Oe(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,r,n);else if(t.tag===19)Wg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&yu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),$h(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&yu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}$h(n,!0,r,null,f);break;case"together":$h(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(pl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Jh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&eu(t)))}function bT(t,n,r){switch(n.tag){case 3:jt(n,n.stateNode.containerInfo),tr(n,ve,t.memoizedState.cache),ml();break;case 27:case 5:Ga(n);break;case 4:jt(n,n.stateNode.containerInfo);break;case 10:tr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(sr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jg(t,n,r):(sr(n),t=bi(t,n,r),t!==null?t.sibling:null);sr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(pl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return tp(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,Qg(t,n,r);case 24:tr(n,ve,t.memoizedState.cache)}return bi(t,n,r)}function ep(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Jh(t,r)&&(n.flags&128)===0)return Ae=!1,bT(t,n,r);Ae=(t.flags&131072)!==0}else Ae=!1,xt&&(n.flags&1048576)!==0&&Nm(n,tu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")lh(l)?(t=ms(l,t),n.tag=1,n=Zg(null,n,l,t,r)):(n.tag=0,n=Fh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Lt){n.tag=11,n=Gg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=Fg(null,n,l,t,r);break t}}throw n=pt(l)||l,Error(a(306,n,""))}}return n;case 0:return Fh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ms(l,n.pendingProps),Zg(t,n,l,c,r);case 3:t:{if(jt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Th(t,n),Al(n,l,null,r);var p=n.memoizedState;if(l=p.cache,tr(n,ve,l),l!==f.cache&&gh(n,[ve],r,!0),Sl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(t,n,l,r);break t}else if(l!==c){c=vn(Error(a(424)),n),gl(c),n=$g(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=Pn(t.firstChild),Ze=n,xt=!0,os=null,Wn=!0,r=Vg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ml(),l===c){n=bi(t,n,r);break t}Oe(t,n,l,r)}n=n.child}return n;case 26:return Eu(t,n),t===null?(r=sy(n.type,null,n.pendingProps,null))?n.memoizedState=r:xt||(r=n.type,t=n.pendingProps,l=xu(mt.current).createElement(r),l[le]=n,l[De]=t,Me(l,r,t),oe(l),n.stateNode=l):n.memoizedState=sy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ga(n),t===null&&xt&&(l=n.stateNode=ny(n.type,n.pendingProps,mt.current),Ze=n,Wn=!0,c=ie,gr(n.type)?(Vf=c,ie=Pn(l.firstChild)):ie=c),Oe(t,n,n.pendingProps.children,r),Eu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((c=l=ie)&&(l=JT(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,Ze=n,ie=Pn(l.firstChild),Wn=!1,c=!0):c=!1),c||us(n)),Ga(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Df(c,f)?l=null:p!==null&&Df(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Ih(t,n,pT,null,null,r),Fl._currentValue=c),Eu(t,n),Oe(t,n,l,r),n.child;case 6:return t===null&&xt&&((t=r=ie)&&(r=WT(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,Ze=n,ie=null,t=!0):t=!1),t||us(n)),null;case 13:return Jg(t,n,r);case 4:return jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ua(n,null,l,r):Oe(t,n,l,r),n.child;case 11:return Gg(t,n,n.type,n.pendingProps,r);case 7:return Oe(t,n,n.pendingProps,r),n.child;case 8:return Oe(t,n,n.pendingProps.children,r),n.child;case 12:return Oe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,tr(n,n.type,l.value),Oe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,hs(n),c=ze(c),l=l(c),n.flags|=1,Oe(t,n,l,r),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,r);case 15:return Yg(t,n,n.type,n.pendingProps,r);case 19:return tp(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Tu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Qg(t,n,r);case 24:return hs(n),l=ze(ve),t===null?(c=_h(),c===null&&(c=Xt,f=ph(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Eh(n),tr(n,ve,c)):((t.lanes&r)!==0&&(Th(t,n),Al(n,null,null,r),Sl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),tr(n,ve,l)):(l=f.cache,tr(n,ve,l),l!==c.cache&&gh(n,[ve],r,!0))),Oe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ri(t){t.flags|=4}function np(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cy(n)){if(n=An.current,n!==null&&((Ot&4194048)===Ot?ti!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==ti))throw El=vh,zm;t.flags|=8192}}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,da|=n)}function Ol(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function RT(t,n,r){var l=n.pendingProps;switch(hh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(ve),wn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dl(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Um())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?(ne(n),np(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),ne(n),np(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ne(n),n.flags&=-16777217),null;case 27:Ms(n),r=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=lt.current,dl(n)?Mm(n):(t=ny(c,l,r),n.stateNode=t,Ri(n))}return ne(n),null;case 5:if(Ms(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=lt.current,dl(n))Mm(n);else{switch(c=xu(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[le]=n,t[De]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Me(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=mt.current,dl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[le]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Xp(t.nodeValue,r)),t||us(n)}else t=xu(t).createTextNode(l),t[le]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=dl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[le]=n}else ml(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Um(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Su(n,n.updateQueue),ne(n),null;case 4:return wn(),t===null&&bf(n.stateNode.containerInfo),ne(n),null;case 10:return Ti(n.type),ne(n),null;case 19:if(et(Ee),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Ol(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=yu(t),f!==null){for(n.flags|=128,Ol(c,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Om(r,t),r=r.sibling;return $(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&$e()>Ru&&(n.flags|=128,l=!0,Ol(c,!1),n.lanes=4194304)}else{if(!l)if(t=yu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Ol(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!xt)return ne(n),null}else 2*$e()-c.renderingStartTime>Ru&&r!==536870912&&(n.flags|=128,l=!0,Ol(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=$e(),n.sibling=null,t=Ee.current,$(Ee,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ai(n),Rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Su(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(fs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(ve),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function wT(t,n){switch(hh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(ve),wn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ms(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ml()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ee),null;case 4:return wn(),null;case 10:return Ti(n.type),null;case 22:case 23:return Ai(n),Rh(),t!==null&&et(fs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(ve),null;case 25:return null;default:return null}}function ip(t,n){switch(hh(n),n.tag){case 3:Ti(ve),wn();break;case 26:case 27:case 5:Ms(n);break;case 4:wn();break;case 13:Ai(n);break;case 19:et(Ee);break;case 10:Ti(n.type);break;case 22:case 23:Ai(n),Rh(),t!==null&&et(fs);break;case 24:Ti(ve)}}function Nl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Qt(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var b=r,L=E;try{L()}catch(q){Qt(c,b,q)}}}l=l.next}while(l!==f)}}catch(q){Qt(n,n.return,q)}}function rp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Fm(n,r)}catch(l){Qt(t,t.return,l)}}}function sp(t,n,r){r.props=ms(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Qt(t,n,l)}}function Ml(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Qt(t,n,c)}}function ei(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Qt(t,n,c)}else r.current=null}function ap(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Qt(t,t.return,c)}}function Wh(t,n,r){try{var l=t.stateNode;QT(l,t.type,r,n),l[De]=n}catch(c){Qt(t,t.return,c)}}function lp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||lp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Uu));else if(l!==4&&(l===27&&gr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,r),t=t.sibling;t!==null;)ef(t,n,r),t=t.sibling}function Au(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&gr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Au(t,n,r),t=t.sibling;t!==null;)Au(t,n,r),t=t.sibling}function op(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Me(n,l,r),n[le]=t,n[De]=r}catch(f){Qt(t,t.return,f)}}var wi=!1,he=!1,nf=!1,up=typeof WeakSet=="function"?WeakSet:Set,be=null;function IT(t,n){if(t=t.containerInfo,If=ju,t=Em(t),th(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,b=-1,L=0,q=0,F=t,k=null;e:for(;;){for(var B;F!==r||c!==0&&F.nodeType!==3||(E=p+c),F!==f||l!==0&&F.nodeType!==3||(b=p+l),F.nodeType===3&&(p+=F.nodeValue.length),(B=F.firstChild)!==null;)k=F,F=B;for(;;){if(F===t)break e;if(k===r&&++L===c&&(E=p),k===f&&++q===l&&(b=p),(B=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cf={focusedElem:t,selectionRange:r},ju=!1,be=n;be!==null;)if(n=be,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,be=t;else for(;be!==null;){switch(n=be,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=ms(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Qt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Nf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,be=t;break}be=n.return}}function cp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:or(t,r),l&4&&Nl(5,r);break;case 1:if(or(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Qt(r,r.return,p)}else{var c=ms(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Qt(r,r.return,p)}}l&64&&rp(r),l&512&&Ml(r,r.return);break;case 3:if(or(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fm(t,n)}catch(p){Qt(r,r.return,p)}}break;case 27:n===null&&l&4&&op(r);case 26:case 5:or(t,r),n===null&&l&4&&ap(r),l&512&&Ml(r,r.return);break;case 12:or(t,r);break;case 13:or(t,r),l&4&&dp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=PT.bind(null,r),t0(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||he,c=wi;var f=he;wi=l,(he=n)&&!f?ur(t,r,(r.subtreeFlags&8772)!==0):or(t,r),wi=c,he=f}break;case 30:break;default:or(t,r)}}function hp(t){var n=t.alternate;n!==null&&(t.alternate=null,hp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ls(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,We=!1;function Ii(t,n,r){for(r=r.child;r!==null;)fp(t,n,r),r=r.sibling}function fp(t,n,r){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(ki,r)}catch{}switch(r.tag){case 26:he||ei(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||ei(r,n);var l=Jt,c=We;gr(r.type)&&(Jt=r.stateNode,We=!1),Ii(t,n,r),jl(r.stateNode),Jt=l,We=c;break;case 5:he||ei(r,n);case 6:if(l=Jt,c=We,Jt=null,Ii(t,n,r),Jt=l,We=c,Jt!==null)if(We)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{Jt.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:Jt!==null&&(We?(t=Jt,ty(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Xl(t)):ty(Jt,r.stateNode));break;case 4:l=Jt,c=We,Jt=r.stateNode.containerInfo,We=!0,Ii(t,n,r),Jt=l,We=c;break;case 0:case 11:case 14:case 15:he||lr(2,r,n),he||lr(4,r,n),Ii(t,n,r);break;case 1:he||(ei(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&sp(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Ii(t,n,r),he=l;break;default:Ii(t,n,r)}}function dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(r){Qt(n,n.return,r)}}function CT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new up),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new up),n;default:throw Error(a(435,t.tag))}}function rf(t,n){var r=CT(t);n.forEach(function(l){var c=LT.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(gr(E.type)){Jt=E.stateNode,We=!1;break t}break;case 5:Jt=E.stateNode,We=!1;break t;case 3:case 4:Jt=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(Jt===null)throw Error(a(160));fp(f,p,c),Jt=null,We=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)mp(n,t),n=n.sibling}var xn=null;function mp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(lr(3,t,t.return),Nl(3,t),lr(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(he||r===null||ei(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(on(n,t),un(t),l&512&&(he||r===null||ei(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[le]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Me(f,l,r),f[le]=t,oe(f),l=f;break t;case"link":var p=oy("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),Me(f,l,r),c.head.appendChild(f);break;case"meta":if(p=oy("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),Me(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[le]=t,oe(f),l=f}t.stateNode=l}else uy(c,t.type,t.stateNode);else t.stateNode=ly(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?uy(c,t.type,t.stateNode):ly(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(he||r===null||ei(r,r.return)),r!==null&&l&4&&Wh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(he||r===null||ei(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(B){Qt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Wh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(nf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Qt(t,t.return,B)}}break;case 3:if(ku=null,c=xn,xn=Pu(n.containerInfo),on(n,t),xn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Xl(n.containerInfo)}catch(B){Qt(t,t.return,B)}nf&&(nf=!1,gp(t));break;case 4:l=xn,xn=Pu(t.stateNode.containerInfo),on(n,t),un(t),xn=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cf=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=wi,q=he;if(wi=L||c,he=q||b,on(n,t),he=q,wi=L,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||wi||he||gs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Qt(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Qt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rf(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(lp(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=tf(t);Au(t,f,c);break;case 5:var p=r.stateNode;r.flags&32&&(yn(p,""),r.flags&=-33);var E=tf(t);Au(t,E,p);break;case 3:case 4:var b=r.stateNode.containerInfo,L=tf(t);ef(t,L,b);break;default:throw Error(a(161))}}catch(q){Qt(t,t.return,q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function gp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function or(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cp(t,n.alternate,n),n=n.sibling}function gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),gs(n);break;case 1:ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sp(n,n.return,r),gs(n);break;case 27:jl(n.stateNode);case 26:case 5:ei(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),Nl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Qt(l,l.return,L)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Gm(b[c],E)}catch(L){Qt(l,l.return,L)}}r&&p&64&&rp(f),Ml(f,f.return);break;case 27:op(f);case 26:case 5:ur(c,f,r),r&&l===null&&p&4&&ap(f),Ml(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&p&4&&dp(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),Ml(f,f.return);break;case 30:break;default:ur(c,f,r)}n=n.sibling}}function sf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&yl(r))}function af(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t))}function ni(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pp(t,n,r,l),n=n.sibling}function pp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,r,l),c&2048&&Nl(9,n);break;case 1:ni(t,n,r,l);break;case 3:ni(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t)));break;case 12:if(c&2048){ni(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Qt(n,n.return,b)}}else ni(t,n,r,l);break;case 13:ni(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,r,l):Vl(t,n):f._visibility&2?ni(t,n,r,l):(f._visibility|=2,ca(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&sf(p,n);break;case 24:ni(t,n,r,l),c&2048&&af(n.alternate,n);break;default:ni(t,n,r,l)}}function ca(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=r,b=l,L=p.flags;switch(p.tag){case 0:case 11:case 15:ca(f,p,E,b,c),Nl(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?ca(f,p,E,b,c):Vl(f,p):(q._visibility|=2,ca(f,p,E,b,c)),c&&L&2048&&sf(p.alternate,p);break;case 24:ca(f,p,E,b,c),c&&L&2048&&af(p.alternate,p);break;default:ca(f,p,E,b,c)}n=n.sibling}}function Vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Vl(r,l),c&2048&&sf(l.alternate,l);break;case 24:Vl(r,l),c&2048&&af(l.alternate,l);break;default:Vl(r,l)}n=n.sibling}}var Ul=8192;function ha(t){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 26:ha(t),t.flags&Ul&&t.memoizedState!==null&&d0(xn,t.memoizedState,t.memoizedProps);break;case 5:ha(t);break;case 3:case 4:var n=xn;xn=Pu(t.stateNode.containerInfo),ha(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ul,Ul=16777216,ha(t),Ul=n):ha(t));break;default:ha(t)}}function _p(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];be=l,Ep(l,t)}_p(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vp(t),t=t.sibling}function vp(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,bu(t)):xl(t);break;default:xl(t)}}function bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];be=l,Ep(l,t)}_p(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),bu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,bu(n));break;default:bu(n)}t=t.sibling}}function Ep(t,n){for(;be!==null;){var r=be;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,be=l;else t:for(r=t;be!==null;){l=be;var c=l.sibling,f=l.return;if(hp(l),l===r){be=null;break t}if(c!==null){c.return=f,be=c;break t}be=f}}}var DT={getCacheForType:function(t){var n=ze(ve),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},OT=typeof WeakMap=="function"?WeakMap:Map,zt=0,Xt=null,wt=null,Ot=0,Bt=0,cn=null,cr=!1,fa=!1,lf=!1,Ci=0,re=0,hr=0,ps=0,of=0,bn=0,da=0,Pl=null,tn=null,uf=!1,cf=0,Ru=1/0,wu=null,fr=null,Ne=0,dr=null,ma=null,ga=0,hf=0,ff=null,Tp=null,Ll=0,df=null;function hn(){if((zt&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=na;return t!==0?t:Ef()}return ci()}function Sp(){bn===0&&(bn=(Ot&536870912)===0||xt?Qa():536870912);var t=An.current;return t!==null&&(t.flags|=32),bn}function fn(t,n,r){(t===Xt&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)&&(pa(t,0),mr(t,Ot,bn,!1)),ae(t,r),((zt&2)===0||t!==Xt)&&(t===Xt&&((zt&2)===0&&(ps|=r),re===4&&mr(t,Ot,bn,!1)),ii(t))}function Ap(t,n,r){if((zt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?VT(t,n):pf(t,n,!0),f=l;do{if(c===0){fa&&!l&&mr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!NT(r)){c=pf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=Pl;var b=E.current.memoizedState.isDehydrated;if(b&&(pa(E,p).flags|=256),p=pf(E,p,!1),p!==2){if(lf&&!b){E.errorRecoveryDisabledLanes|=f,ps|=f,c=4;break t}f=tn,tn=c,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){pa(t,0),mr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:mr(l,n,bn,!cr);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=cf+300-$e(),10<c)){if(mr(l,n,bn,!cr),gn(l,0,!0)!==0)break t;l.timeoutHandle=Jp(bp.bind(null,l,r,tn,wu,uf,n,bn,ps,da,cr,f,2,-0,0),c);break t}bp(l,r,tn,wu,uf,n,bn,ps,da,cr,f,0,-0,0)}}break}while(!0);ii(t)}function bp(t,n,r,l,c,f,p,E,b,L,q,F,k,B){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:f0},yp(n),F=m0(),F!==null)){t.cancelPendingCommit=F(Np.bind(null,t,n,f,r,l,c,p,E,b,q,1,k,B)),mr(t,f,p,!L);return}Np(t,n,f,r,l,c,p,E,b)}function NT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mr(t,n,r,l){n&=~of,n&=~ps,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&Hi(t,r,n)}function Iu(){return(zt&6)===0?(kl(0),!1):!0}function mf(){if(wt!==null){if(Bt===0)var t=wt.return;else t=wt,Ei=cs=null,Oh(t),oa=null,Cl=0,t=wt;for(;t!==null;)ip(t.alternate,t),t=t.return;wt=null}}function pa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,XT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),mf(),Xt=t,wt=r=yi(t.current,null),Ot=n,Bt=0,cn=null,cr=!1,fa=Bi(t,n),lf=!1,da=bn=of=ps=hr=re=0,tn=Pl=null,uf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Xo(),r}function Rp(t,n){At=null,H.H=mu,n===vl||n===ru?(n=Hm(),Bt=3):n===zm?(n=Hm(),Bt=4):Bt=n===qg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,wt===null&&(re=1,vu(t,vn(n,t.current)))}function wp(){var t=H.H;return H.H=mu,t===null?mu:t}function Ip(){var t=H.A;return H.A=DT,t}function gf(){re=4,cr||(Ot&4194048)!==Ot&&An.current!==null||(fa=!0),(hr&134217727)===0&&(ps&134217727)===0||Xt===null||mr(Xt,Ot,bn,!1)}function pf(t,n,r){var l=zt;zt|=2;var c=wp(),f=Ip();(Xt!==t||Ot!==n)&&(wu=null,pa(t,n)),n=!1;var p=re;t:do try{if(Bt!==0&&wt!==null){var E=wt,b=cn;switch(Bt){case 8:mf(),p=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var L=Bt;if(Bt=0,cn=null,ya(t,E,b,L),r&&fa){p=0;break t}break;default:L=Bt,Bt=0,cn=null,ya(t,E,b,L)}}MT(),p=re;break}catch(q){Rp(t,q)}while(!0);return n&&t.shellSuspendCounter++,Ei=cs=null,zt=l,H.H=c,H.A=f,wt===null&&(Xt=null,Ot=0,Xo()),p}function MT(){for(;wt!==null;)Cp(wt)}function VT(t,n){var r=zt;zt|=2;var l=wp(),c=Ip();Xt!==t||Ot!==n?(wu=null,Ru=$e()+500,pa(t,n)):fa=Bi(t,n);t:do try{if(Bt!==0&&wt!==null){n=wt;var f=cn;e:switch(Bt){case 1:Bt=0,cn=null,ya(t,n,f,1);break;case 2:case 9:if(Bm(f)){Bt=0,cn=null,Dp(n);break}n=function(){Bt!==2&&Bt!==9||Xt!==t||(Bt=7),ii(t)},f.then(n,n);break t;case 3:Bt=7;break t;case 4:Bt=5;break t;case 7:Bm(f)?(Bt=0,cn=null,Dp(n)):(Bt=0,cn=null,ya(t,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(!p||cy(p)){Bt=0,cn=null;var b=E.sibling;if(b!==null)wt=b;else{var L=E.return;L!==null?(wt=L,Cu(L)):wt=null}break e}}Bt=0,cn=null,ya(t,n,f,5);break;case 6:Bt=0,cn=null,ya(t,n,f,6);break;case 8:mf(),re=6;break t;default:throw Error(a(462))}}UT();break}catch(q){Rp(t,q)}while(!0);return Ei=cs=null,H.H=l,H.A=c,zt=r,wt!==null?0:(Xt=null,Ot=0,Xo(),re)}function UT(){for(;wt!==null&&!qc();)Cp(wt)}function Cp(t){var n=ep(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?Cu(t):wt=n}function Dp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Xg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Xg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Oh(n);default:ip(r,n),n=wt=Om(n,Ci),n=ep(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?Cu(t):wt=n}function ya(t,n,r,l){Ei=cs=null,Oh(n),oa=null,Cl=0;var c=n.return;try{if(AT(t,c,n,r,Ot)){re=1,vu(t,vn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;re=1,vu(t,vn(r,t.current)),wt=null;return}n.flags&32768?(xt||l===1?t=!0:fa||(Ot&536870912)!==0?t=!1:(cr=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Op(n,t)):Cu(n)}function Cu(t){var n=t;do{if((n.flags&32768)!==0){Op(n,cr);return}t=n.return;var r=RT(n.alternate,n,Ci);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);re===0&&(re=5)}function Op(t,n){do{var r=wT(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);re=6,wt=null}function Np(t,n,r,l,c,f,p,E,b){t.cancelPendingCommit=null;do Du();while(Ne!==0);if((zt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=sh,Mo(t,r,f,p,E,b),t===Xt&&(wt=Xt=null,Ot=0),ma=n,dr=t,ga=r,hf=f,ff=c,Tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kT(ui,function(){return Pp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=J.p,J.p=2,p=zt,zt|=4;try{IT(t,n,r)}finally{zt=p,J.p=c,H.T=l}}Ne=1,Mp(),Vp(),Up()}}function Mp(){if(Ne===1){Ne=0;var t=dr,n=ma,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=J.p;J.p=2;var c=zt;zt|=4;try{mp(n,t);var f=Cf,p=Em(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&vm(E.ownerDocument.documentElement,E)){if(b!==null&&th(E)){var L=b.start,q=b.end;if(q===void 0&&(q=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(q,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var B=k.getSelection(),gt=E.textContent.length,ct=Math.min(b.start,gt),Ft=b.end===void 0?ct:Math.min(b.end,gt);!B.extend&&ct>Ft&&(p=Ft,Ft=ct,ct=p);var V=_m(E,ct),D=_m(E,Ft);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var x=F.createRange();x.setStart(V.node,V.offset),B.removeAllRanges(),ct>Ft?(B.addRange(x),B.extend(D.node,D.offset)):(x.setEnd(D.node,D.offset),B.addRange(x))}}}}for(F=[],B=E;B=B.parentNode;)B.nodeType===1&&F.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ju=!!If,Cf=If=null}finally{zt=c,J.p=l,H.T=r}}t.current=n,Ne=2}}function Vp(){if(Ne===2){Ne=0;var t=dr,n=ma,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=J.p;J.p=2;var c=zt;zt|=4;try{cp(t,n.alternate,n)}finally{zt=c,J.p=l,H.T=r}}Ne=3}}function Up(){if(Ne===4||Ne===3){Ne=0,Fa();var t=dr,n=ma,r=ga,l=Tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,ma=dr=null,xp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fr=null),Xa(r),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(ki,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=J.p,J.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,J.p=c}}(ga&3)!==0&&Du(),ii(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===df?Ll++:(Ll=0,df=t):Ll=0,kl(0)}}function xp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,yl(n)))}function Du(t){return Mp(),Vp(),Up(),Pp()}function Pp(){if(Ne!==5)return!1;var t=dr,n=hf;hf=0;var r=Xa(ga),l=H.T,c=J.p;try{J.p=32>r?32:r,H.T=null,r=ff,ff=null;var f=dr,p=ga;if(Ne=0,ma=dr=null,ga=0,(zt&6)!==0)throw Error(a(331));var E=zt;if(zt|=4,vp(f.current),pp(f,f.current,p,r),zt=E,kl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(ki,f)}catch{}return!0}finally{J.p=c,H.T=l,xp(t,n)}}function Lp(t,n,r){n=vn(r,n),n=Gh(t.stateNode,n,2),t=ir(t,n,2),t!==null&&(ae(t,2),ii(t))}function Qt(t,n,r){if(t.tag===3)Lp(t,t,r);else for(;n!==null;){if(n.tag===3){Lp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=vn(r,t),r=jg(2),l=ir(n,r,2),l!==null&&(Hg(r,l,n,t),ae(l,2),ii(l));break}}n=n.return}}function yf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new OT;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(lf=!0,c.add(r),t=xT.bind(null,t,n,r),n.then(t,t))}function xT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(Ot&r)===r&&(re===4||re===3&&(Ot&62914560)===Ot&&300>$e()-cf?(zt&2)===0&&pa(t,0):of|=r,da===Ot&&(da=0)),ii(t)}function kp(t,n){n===0&&(n=ji()),t=Js(t,n),t!==null&&(ae(t,n),ii(t))}function PT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),kp(t,r)}function LT(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),kp(t,r)}function kT(t,n){return xr(t,n)}var Ou=null,_a=null,_f=!1,Nu=!1,vf=!1,ys=0;function ii(t){t!==_a&&t.next===null&&(_a===null?Ou=_a=t:_a=_a.next=t),Nu=!0,_f||(_f=!0,BT())}function kl(t,n){if(!vf&&Nu){vf=!0;do for(var r=!1,l=Ou;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Hp(l,f))}else f=Ot,f=gn(l,l===Xt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bi(l,f)||(r=!0,Hp(l,f));l=l.next}while(r);vf=!1}}function zT(){zp()}function zp(){Nu=_f=!1;var t=0;ys!==0&&(KT()&&(t=ys),ys=0);for(var n=$e(),r=null,l=Ou;l!==null;){var c=l.next,f=Bp(l,n);f===0?(l.next=null,r===null?Ou=c:r.next=c,c===null&&(_a=r)):(r=l,(t!==0||(f&3)!==0)&&(Nu=!0)),l=c}kl(t)}function Bp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Ye(f),E=1<<p,b=c[p];b===-1?((E&r)===0||(E&l)!==0)&&(c[p]=xs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xt,r=Ot,r=gn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Us(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Us(l),Xa(r)){case 2:case 8:r=Te;break;case 32:r=ui;break;case 268435456:r=Ya;break;default:r=ui}return l=jp.bind(null,t),r=xr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Us(l),t.callbackPriority=2,t.callbackNode=null,2}function jp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Du()&&t.callbackNode!==r)return null;var l=Ot;return l=gn(t,t===Xt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ap(t,l,n),Bp(t,$e()),t.callbackNode!=null&&t.callbackNode===r?jp.bind(null,t):null)}function Hp(t,n){if(Du())return null;Ap(t,n,!0)}function BT(){ZT(function(){(zt&6)!==0?xr(ye,zT):zp()})}function Ef(){return ys===0&&(ys=Qa()),ys}function qp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:On(""+t)}function Gp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function jT(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=qp((c[De]||null).action),p=l.submitter;p&&(n=(n=p[De]||null)?qp(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Zr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ys!==0){var b=p?Gp(c,p):new FormData(c);zh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=p?Gp(c,p):new FormData(c),zh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Tf=0;Tf<rh.length;Tf++){var Sf=rh[Tf],HT=Sf.toLowerCase(),qT=Sf[0].toUpperCase()+Sf.slice(1);Un(HT,"on"+qT)}Un(Am,"onAnimationEnd"),Un(bm,"onAnimationIteration"),Un(Rm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(aT,"onTransitionRun"),Un(lT,"onTransitionStart"),Un(oT,"onTransitionCancel"),Un(wm,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Fp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(q){_u(q)}c.currentTarget=null,f=b}else for(p=0;p<l.length;p++){if(E=l[p],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(q){_u(q)}c.currentTarget=null,f=b}}}}function It(t,n){var r=n[Lr];r===void 0&&(r=n[Lr]=new Set);var l=t+"__bubble";r.has(l)||(Yp(n,t,2,!1),r.add(l))}function Af(t,n,r){var l=0;n&&(l|=4),Yp(r,t,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[Mu]){t[Mu]=!0,Vo.forEach(function(r){r!=="selectionchange"&&(GT.has(r)||Af(r,!1,t),Af(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,Af("selectionchange",!1,n))}}function Yp(t,n,r,l){switch(py(n)){case 2:var c=y0;break;case 8:c=_0;break;default:c=kf}r=c.bind(null,n,r,t),c=void 0,!gi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Rf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=Yn(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){l=f=p;continue t}E=E.parentNode}}l=l.return}Qr(function(){var L=f,q=nl(r),F=[];t:{var k=Im.get(t);if(k!==void 0){var B=Zr,gt=t;switch(t){case"keypress":if(Kr(r)===0)break t;case"keydown":case"keyup":B=Ks;break;case"focusin":gt="focus",B=Fs;break;case"focusout":gt="blur",B=Fs;break;case"beforeblur":case"afterblur":B=Fs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Bo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Wi;break;case Am:case bm:case Rm:B=rl;break;case wm:B=m;break;case"scroll":case"scrollend":B=Jr;break;case"wheel":B=T;break;case"copy":case"cut":case"paste":B=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ll;break;case"toggle":case"beforetoggle":B=j}var ct=(n&4)!==0,Ft=!ct&&(t==="scroll"||t==="scrollend"),V=ct?k!==null?k+"Capture":null:k;ct=[];for(var D=L,x;D!==null;){var G=D;if(x=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||x===null||V===null||(G=$i(D,V),G!=null&&ct.push(Bl(D,G,x))),Ft)break;D=D.return}0<ct.length&&(k=new B(k,gt,null,r,q),F.push({event:k,listeners:ct}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==el&&(gt=r.relatedTarget||r.fromElement)&&(Yn(gt)||gt[hi]))break t;if((B||k)&&(k=q.window===q?q:(k=q.ownerDocument)?k.defaultView||k.parentWindow:window,B?(gt=r.relatedTarget||r.toElement,B=L,gt=gt?Yn(gt):null,gt!==null&&(Ft=h(gt),ct=gt.tag,gt!==Ft||ct!==5&&ct!==27&&ct!==6)&&(gt=null)):(B=null,gt=L),B!==gt)){if(ct=es,G="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ct=ll,G="onPointerLeave",V="onPointerEnter",D="pointer"),Ft=B==null?k:Fi(B),x=gt==null?k:Fi(gt),k=new ct(G,D+"leave",B,r,q),k.target=Ft,k.relatedTarget=x,G=null,Yn(q)===L&&(ct=new ct(V,D+"enter",gt,r,q),ct.target=x,ct.relatedTarget=Ft,G=ct),Ft=G,B&&gt)e:{for(ct=B,V=gt,D=0,x=ct;x;x=va(x))D++;for(x=0,G=V;G;G=va(G))x++;for(;0<D-x;)ct=va(ct),D--;for(;0<x-D;)V=va(V),x--;for(;D--;){if(ct===V||V!==null&&ct===V.alternate)break e;ct=va(ct),V=va(V)}ct=null}else ct=null;B!==null&&Qp(F,k,B,ct,!1),gt!==null&&Ft!==null&&Qp(F,Ft,gt,ct,!0)}}t:{if(k=L?Fi(L):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var it=fm;else if(cm(k))if(dm)it=iT;else{it=eT;var Rt=tT}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?L&&Hs(L.elementType)&&(it=fm):it=nT;if(it&&(it=it(t,L))){hm(F,it,r,q);break t}Rt&&Rt(t,k,L),t==="focusout"&&L&&k.type==="number"&&L.memoizedProps.value!=null&&Ja(k,"number",k.value)}switch(Rt=L?Fi(L):window,t){case"focusin":(cm(Rt)||Rt.contentEditable==="true")&&(Xs=Rt,eh=L,fl=null);break;case"focusout":fl=eh=Xs=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Tm(F,r,q);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":Tm(F,r,q)}var at;if(yt)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vn?Nn(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(ue&&r.locale!=="ko"&&(Vn||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vn&&(at=zo()):(_n=q,Kt="value"in _n?_n.value:_n.textContent,Vn=!0)),Rt=Vu(L,ht),0<Rt.length&&(ht=new al(ht,t,null,r,q),F.push({event:ht,listeners:Rt}),at?ht.data=at:(at=Mn(r),at!==null&&(ht.data=at)))),(at=kt?ol(t,r):$E(t,r))&&(ht=Vu(L,"onBeforeInput"),0<ht.length&&(Rt=new al("onBeforeInput","beforeinput",null,r,q),F.push({event:Rt,listeners:ht}),Rt.data=at)),jT(F,t,L,r,q)}Fp(F,n)})}function Bl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Vu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=$i(t,r),c!=null&&l.unshift(Bl(t,c,f)),c=$i(t,n),c!=null&&l.push(Bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qp(t,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||L===null||(b=L,c?(L=$i(r,f),L!=null&&p.unshift(Bl(r,L,b))):c||(L=$i(r,f),L!=null&&p.push(Bl(r,L,b)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var FT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(FT,`
`).replace(YT,"")}function Xp(t,n){return n=Kp(n),Kp(t)===n}function Uu(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Hr(t,"class",l);break;case"tabIndex":Hr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(t,r,l);break;case"style":tl(t,l,f);break;case"data":if(n!=="object"){Hr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=On(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=On(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Uu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=On(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),jr(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Po.get(r)||r,jr(t,r,l))}}function wf(t,n,r,l,c,f){switch(r){case"style":tl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zr.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[De]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):jr(t,r,l)}}}function Me(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,p,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=p=c=null,b=null,L=null;for(l in r)if(r.hasOwnProperty(l)){var q=r[l];if(q!=null)switch(l){case"name":c=q;break;case"type":p=q;break;case"checked":b=q;break;case"defaultChecked":L=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Gt(t,n,l,q,r,null)}}$a(t,f,E,b,L,p,c,!1),Ki(t);return;case"select":It("invalid",t),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):r!=null&&Xi(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,p,E,r,null)}xo(t,l,c,f),Ki(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,b,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)It(zl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(l=r[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,L,l,r,null)}return;default:if(Hs(n)){for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!==void 0&&wf(t,n,q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function QT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,b=null,L=null,q=null;for(B in r){var F=r[B];if(r.hasOwnProperty(B)&&F!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(B)||Gt(t,n,B,null,l,F)}}for(var k in l){var B=l[k];if(F=r[k],l.hasOwnProperty(k)&&(B!=null||F!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":L=B;break;case"defaultChecked":q=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==F&&Gt(t,n,k,B,l,F)}}Za(t,p,E,b,L,q,f,c);return;case"select":B=p=E=k=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==b&&Gt(t,n,c,f,l,b)}n=E,r=p,l=B,k!=null?Xi(t,!!r,k,!1):!!l!=!!r&&(n!=null?Xi(t,!!r,n,!0):Xi(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,p,c,l,f)}Uo(t,k,B);return;case"option":for(var gt in r)if(k=r[gt],r.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Gt(t,n,gt,null,l,k)}for(b in l)if(k=l[b],B=r[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Gt(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)k=r[ct],r.hasOwnProperty(ct)&&k!=null&&!l.hasOwnProperty(ct)&&Gt(t,n,ct,null,l,k);for(L in l)if(k=l[L],B=r[L],l.hasOwnProperty(L)&&k!==B&&(k!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Gt(t,n,L,k,l,B)}return;default:if(Hs(n)){for(var Ft in r)k=r[Ft],r.hasOwnProperty(Ft)&&k!==void 0&&!l.hasOwnProperty(Ft)&&wf(t,n,Ft,void 0,l,k);for(q in l)k=l[q],B=r[q],!l.hasOwnProperty(q)||k===B||k===void 0&&B===void 0||wf(t,n,q,k,l,B);return}}for(var V in r)k=r[V],r.hasOwnProperty(V)&&k!=null&&!l.hasOwnProperty(V)&&Gt(t,n,V,null,l,k);for(F in l)k=l[F],B=r[F],!l.hasOwnProperty(F)||k===B||k==null&&B==null||Gt(t,n,F,k,l,B)}var If=null,Cf=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function Zp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Of=null;function KT(){var t=window.event;return t&&t.type==="popstate"?t===Of?!1:(Of=t,!0):(Of=null,!1)}var Jp=typeof setTimeout=="function"?setTimeout:void 0,XT=typeof clearTimeout=="function"?clearTimeout:void 0,Wp=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wp<"u"?function(t){return Wp.resolve(null).then(t).catch($T)}:Jp;function $T(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function ty(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var p=t.ownerDocument;if(r&1&&jl(p.documentElement),r&2&&jl(p.body),r&4)for(r=p.head,jl(r),p=r.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[Gi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=E}}if(c===0){t.removeChild(f),Xl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Xl(n)}function Nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nf(r),Ls(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function JT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function WT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pn(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function t0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Vf=null;function ey(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ny(t,n,r){switch(n=xu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ls(t)}var Rn=new Map,iy=new Set;function Pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=J.d;J.d={f:e0,r:n0,D:i0,C:r0,L:s0,m:a0,X:o0,S:l0,M:u0};function e0(){var t=Di.f(),n=Iu();return t||n}function n0(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?Ag(n):Di.r(t)}var Ea=typeof document>"u"?null:document;function ry(t,n,r){var l=Ea;if(l&&typeof n=="string"&&n){var c=Se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),iy.has(c)||(iy.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Me(n,"link",t),oe(n),l.head.appendChild(n)))}}function i0(t){Di.D(t),ry("dns-prefetch",t,null)}function r0(t,n){Di.C(t,n),ry("preconnect",t,n)}function s0(t,n,r){Di.L(t,n,r);var l=Ea;if(l&&t&&n){var c='link[rel="preload"][as="'+Se(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Se(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Se(r.imageSizes)+'"]')):c+='[href="'+Se(t)+'"]';var f=c;switch(n){case"style":f=Ta(t);break;case"script":f=Sa(t)}Rn.has(f)||(t=R({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Hl(f))||n==="script"&&l.querySelector(ql(f))||(n=l.createElement("link"),Me(n,"link",t),oe(n),l.head.appendChild(n)))}}function a0(t,n){Di.m(t,n);var r=Ea;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Sa(t)}if(!Rn.has(f)&&(t=R({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ql(f)))return}l=r.createElement("link"),Me(l,"link",t),oe(l),r.head.appendChild(l)}}}function l0(t,n,r){Di.S(t,n,r);var l=Ea;if(l&&t){var c=Yi(l).hoistableStyles,f=Ta(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Hl(f)))E.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&Uf(t,r);var b=p=l.createElement("link");oe(b),Me(b,"link",t),b._p=new Promise(function(L,q){b.onload=L,b.onerror=q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Lu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function o0(t,n){Di.X(t,n);var r=Ea;if(r&&t){var l=Yi(r).hoistableScripts,c=Sa(t),f=l.get(c);f||(f=r.querySelector(ql(c)),f||(t=R({src:t,async:!0},n),(n=Rn.get(c))&&xf(t,n),f=r.createElement("script"),oe(f),Me(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function u0(t,n){Di.M(t,n);var r=Ea;if(r&&t){var l=Yi(r).hoistableScripts,c=Sa(t),f=l.get(c);f||(f=r.querySelector(ql(c)),f||(t=R({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&xf(t,n),f=r.createElement("script"),oe(f),Me(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sy(t,n,r,l){var c=(c=mt.current)?Pu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ta(r.href),r=Yi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ta(r.href);var f=Yi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Hl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||c0(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sa(r),r=Yi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ta(t){return'href="'+Se(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function ay(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function c0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Me(n,"link",r),oe(n),t.head.appendChild(n))}function Sa(t){return'[src="'+Se(t)+'"]'}function ql(t){return"script[async]"+t}function ly(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Se(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Me(l,"style",c),Lu(l,r.precedence,t),n.instance=l;case"stylesheet":c=Ta(r.href);var f=t.querySelector(Hl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=ay(r),(c=Rn.get(c))&&Uf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var p=f;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Me(f,"link",l),n.state.loading|=4,Lu(f,r.precedence,t),n.instance=f;case"script":return f=Sa(r.src),(c=t.querySelector(ql(f)))?(n.instance=c,oe(c),c):(l=r,(c=Rn.get(f))&&(l=R({},r),xf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Me(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Lu(l,r.precedence,t));return n.instance}function Lu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ku=null;function oy(t,n,r){if(ku===null){var l=new Map,c=ku=new Map;c.set(r,l)}else c=ku,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[le]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function uy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function h0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function cy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Gl=null;function f0(){}function d0(t,n,r){if(Gl===null)throw Error(a(475));var l=Gl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ta(r.href),f=t.querySelector(Hl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=ay(r),(c=Rn.get(c))&&Uf(r,c),f=f.createElement("link"),oe(f);var p=f;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Me(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=zu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function m0(){if(Gl===null)throw Error(a(475));var t=Gl;return t.stylesheets&&t.count===0&&Pf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function Pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,n.forEach(g0,t),Bu=null,zu.call(t))}function g0(t,n){if(!(n.state.loading&4)){var r=Bu.get(t);if(r)var l=r.get(null);else{r=new Map,Bu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=zu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Fl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function p0(t,n,r,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ps(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.hiddenUpdates=Ps(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function hy(t,n,r,l,c,f,p,E,b,L,q,F){return t=new p0(t,n,r,p,E,b,L,F),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=ph(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Eh(f),t}function fy(t){return t?(t=Ws,t):Ws}function dy(t,n,r,l,c,f){c=fy(c),l.context===null?l.context=c:l.pendingContext=c,l=nr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ir(t,l,n),r!==null&&(fn(r,t,n),Tl(r,t,n))}function my(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Lf(t,n){my(t,n),(t=t.alternate)&&my(t,n)}function gy(t){if(t.tag===13){var n=Js(t,67108864);n!==null&&fn(n,t,67108864),Lf(t,67108864)}}var ju=!0;function y0(t,n,r,l){var c=H.T;H.T=null;var f=J.p;try{J.p=2,kf(t,n,r,l)}finally{J.p=f,H.T=c}}function _0(t,n,r,l){var c=H.T;H.T=null;var f=J.p;try{J.p=8,kf(t,n,r,l)}finally{J.p=f,H.T=c}}function kf(t,n,r,l){if(ju){var c=zf(l);if(c===null)Rf(t,n,l,Hu,r),yy(t,l);else if(E0(c,t,n,r,l))l.stopPropagation();else if(yy(t,l),n&4&&-1<v0.indexOf(t)){for(;c!==null;){var f=Qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=In(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-Ye(p);E.entanglements[1]|=b,p&=~b}ii(f),(zt&6)===0&&(Ru=$e()+500,kl(0))}}break;case 13:E=Js(f,2),E!==null&&fn(E,f,2),Iu(),Lf(f,2)}if(f=zf(l),f===null&&Rf(t,n,l,Hu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Rf(t,n,l,null,r)}}function zf(t){return t=nl(t),Bf(t)}var Hu=null;function Bf(t){if(Hu=null,t=Yn(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Hu=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Do()){case ye:return 2;case Te:return 8;case ui:case Gc:return 32;case Ya:return 268435456;default:return 32}default:return 32}}var jf=!1,pr=null,yr=null,_r=null,Yl=new Map,Ql=new Map,vr=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(t,n){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Kl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Qn(n),n!==null&&gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function E0(t,n,r,l,c){switch(n){case"focusin":return pr=Kl(pr,t,n,r,l,c),!0;case"dragenter":return yr=Kl(yr,t,n,r,l,c),!0;case"mouseover":return _r=Kl(_r,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Yl.set(f,Kl(Yl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ql.set(f,Kl(Ql.get(f)||null,t,n,r,l,c)),!0}return!1}function _y(t){var n=Yn(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Qc(t.priority,function(){if(r.tag===13){var l=hn();l=Ka(l);var c=Js(r,l);c!==null&&fn(c,r,l),Lf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=zf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);el=l,r.target.dispatchEvent(l),el=null}else return n=Qn(r),n!==null&&gy(n),t.blockedOn=r,!1;n.shift()}return!0}function vy(t,n,r){qu(t)&&r.delete(n)}function T0(){jf=!1,pr!==null&&qu(pr)&&(pr=null),yr!==null&&qu(yr)&&(yr=null),_r!==null&&qu(_r)&&(_r=null),Yl.forEach(vy),Ql.forEach(vy)}function Gu(t,n){t.blockedOn===n&&(t.blockedOn=null,jf||(jf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,T0)))}var Fu=null;function Ey(t){Fu!==t&&(Fu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Bf(l||r)===null)continue;break}var f=Qn(r);f!==null&&(t.splice(n,3),n-=3,zh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Xl(t){function n(b){return Gu(b,t)}pr!==null&&Gu(pr,t),yr!==null&&Gu(yr,t),_r!==null&&Gu(_r,t),Yl.forEach(n),Ql.forEach(n);for(var r=0;r<vr.length;r++){var l=vr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vr.length&&(r=vr[0],r.blockedOn===null);)_y(r),r.blockedOn===null&&vr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[De]||null;if(typeof f=="function")p||Ey(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[De]||null)E=p.formAction;else if(Bf(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Ey(r)}}}function Hf(t){this._internalRoot=t}Yu.prototype.render=Hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();dy(r,l,t,n,null,null)},Yu.prototype.unmount=Hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;dy(t.current,2,null,t,null,null),Iu(),n[hi]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ci();t={blockedOn:null,target:t,priority:n};for(var r=0;r<vr.length&&n!==0&&n<vr[r].priority;r++);vr.splice(r,0,t),r===0&&_y(t)}};var Ty=e.version;if(Ty!=="19.1.1")throw Error(a(527,Ty,"19.1.1"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var S0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{ki=Qu.inject(S0),Le=Qu}catch{}}return $l.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Lg,f=kg,p=zg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=hy(t,1,!1,null,null,r,l,c,f,p,E,null),t[hi]=n.current,bf(t),new Hf(n)},$l.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=Lg,p=kg,E=zg,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=hy(t,1,!0,n,r??null,l,c,f,p,E,b,L),n.context=fy(null),r=n.current,l=hn(),l=Ka(l),c=nr(l),c.callback=null,ir(r,c,l),r=l,n.current.lanes=r,ae(n,r),ii(n),t[hi]=n.current,bf(t),new Yu(n)},$l.version="19.1.1",$l}var Ny;function M0(){if(Ny)return Ff.exports;Ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ff.exports=N0(),Ff.exports}var V0=M0();const U0=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},x0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,R=h>>2,N=(h&3)<<4|y>>4;let z=(y&15)<<2|_>>6,X=_&63;v||(X=64,d||(z=64)),a.push(i[R],i[N],i[z],i[X])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Z_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):x0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const N=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||N==null)throw new P0;const z=h<<2|y>>4;if(a.push(z),_!==64){const X=y<<4&240|_>>2;if(a.push(X),N!==64){const W=_<<6&192|N;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class P0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L0=function(s){const e=Z_(s);return $_.encodeByteArray(e,!0)},cc=function(s){return L0(s).replace(/\./g,"")},J_=function(s){try{return $_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=()=>k0().__FIREBASE_DEFAULTS__,B0=()=>{if(typeof process>"u"||typeof My>"u")return;const s=My.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},j0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&J_(s[1]);return e&&JSON.parse(e)},Oc=()=>{try{return U0()||z0()||B0()||j0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},W_=s=>Oc()?.emulatorHosts?.[s],H0=s=>{const e=W_(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},tv=()=>Oc()?.config,ev=s=>Oc()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[cc(JSON.stringify(i)),cc(JSON.stringify(d)),""].join(".")}const no={};function F0(){const s={prod:[],emulator:[]};for(const e of Object.keys(no))no[e]?s.emulator.push(e):s.prod.push(e);return s}function Y0(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Vy=!1;function iv(s,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||no[s]===e||no[s]||Vy)return;no[s]=e;function i(z){return`__firebase__banner__${z}`}const a="__firebase__banner",h=F0().prod.length>0;function d(){const z=document.getElementById(a);z&&z.remove()}function y(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function v(z,X){z.setAttribute("width","24"),z.setAttribute("id",X),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function _(){const z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{Vy=!0,d()},z}function R(z,X){z.setAttribute("id",X),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function N(){const z=Y0(a),X=i("text"),W=document.getElementById(X)||document.createElement("span"),st=i("learnmore"),tt=document.getElementById(st)||document.createElement("a"),vt=i("preprendIcon"),St=document.getElementById(vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){const _t=z.element;y(_t),R(tt,st);const Lt=_();v(St,vt),_t.append(St,W,tt,Lt),document.body.appendChild(_t)}h?(W.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function K0(){const s=Oc()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z0(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function $0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J0(){const s=Fe();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function W0(){return!K0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="FirebaseError";class Li extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=nS,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_o.prototype.create)}}class _o{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?iS(h,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Li(o,y,a)}}function iS(s,e){return s.replace(rS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const rS=/\{\$([^}]+)}/g;function sS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ss(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(Uy(h)&&Uy(d)){if(!Ss(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Uy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Wl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,h]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(h)}}),e}function to(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function aS(s,e){const i=new lS(s,e);return i.subscribe.bind(i)}class lS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");oS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Xf),o.error===void 0&&(o.error=Xf),o.complete===void 0&&(o.complete=Xf);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(s){return s&&s._delegate?s._delegate:s}class As{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new q0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hS(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cS(s){return s===_s?void 0:s}function hS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const dS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},mS=Dt.INFO,gS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},pS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=gS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=mS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const yS=(s,e)=>e.some(i=>s instanceof i);let xy,Py;function _S(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vS(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rv=new WeakMap,ld=new WeakMap,sv=new WeakMap,Zf=new WeakMap,Od=new WeakMap;function ES(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(wr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&rv.set(i,s)}).catch(()=>{}),Od.set(e,s),e}function TS(s){if(ld.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});ld.set(s,e)}let od={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return ld.get(s);if(e==="objectStoreNames")return s.objectStoreNames||sv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function SS(s){od=s(od)}function AS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call($f(this),e,...i);return sv.set(a,e.sort?e.sort():[e]),wr(a)}:vS().includes(s)?function(...e){return s.apply($f(this),e),wr(rv.get(this))}:function(...e){return wr(s.apply($f(this),e))}}function bS(s){return typeof s=="function"?AS(s):(s instanceof IDBTransaction&&TS(s),yS(s,_S())?new Proxy(s,od):s)}function wr(s){if(s instanceof IDBRequest)return ES(s);if(Zf.has(s))return Zf.get(s);const e=bS(s);return e!==s&&(Zf.set(s,e),Od.set(e,s)),e}const $f=s=>Od.get(s);function RS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=wr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(wr(d.result),v.oldVersion,v.newVersion,wr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const wS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],Jf=new Map;function Ly(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=IS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||wS.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Jf.set(e,h),h}SS(s=>({...s,get:(e,i,a)=>Ly(e,i)||s.get(e,i,a),has:(e,i)=>!!Ly(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DS(s){return s.getComponent()?.type==="VERSION"}const ud="@firebase/app",ky="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Dd("@firebase/app"),OS="@firebase/app-compat",NS="@firebase/analytics-compat",MS="@firebase/analytics",VS="@firebase/app-check-compat",US="@firebase/app-check",xS="@firebase/auth",PS="@firebase/auth-compat",LS="@firebase/database",kS="@firebase/data-connect",zS="@firebase/database-compat",BS="@firebase/functions",jS="@firebase/functions-compat",HS="@firebase/installations",qS="@firebase/installations-compat",GS="@firebase/messaging",FS="@firebase/messaging-compat",YS="@firebase/performance",QS="@firebase/performance-compat",KS="@firebase/remote-config",XS="@firebase/remote-config-compat",ZS="@firebase/storage",$S="@firebase/storage-compat",JS="@firebase/firestore",WS="@firebase/ai",tA="@firebase/firestore-compat",eA="firebase",nA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",iA={[ud]:"fire-core",[OS]:"fire-core-compat",[MS]:"fire-analytics",[NS]:"fire-analytics-compat",[US]:"fire-app-check",[VS]:"fire-app-check-compat",[xS]:"fire-auth",[PS]:"fire-auth-compat",[LS]:"fire-rtdb",[kS]:"fire-data-connect",[zS]:"fire-rtdb-compat",[BS]:"fire-fn",[jS]:"fire-fn-compat",[HS]:"fire-iid",[qS]:"fire-iid-compat",[GS]:"fire-fcm",[FS]:"fire-fcm-compat",[YS]:"fire-perf",[QS]:"fire-perf-compat",[KS]:"fire-rc",[XS]:"fire-rc-compat",[ZS]:"fire-gcs",[$S]:"fire-gcs-compat",[JS]:"fire-fst",[tA]:"fire-fst-compat",[WS]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,rA=new Map,hd=new Map;function zy(s,e){try{s.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Na(s){const e=s.name;if(hd.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,s);for(const i of hc.values())zy(i,s);for(const i of rA.values())zy(i,s);return!0}function Nd(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function kn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new _o("app","Firebase",sA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=nA;function av(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:cd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ir.create("bad-app-name",{appName:String(o)});if(i||(i=tv()),!i)throw Ir.create("no-options");const h=hc.get(o);if(h){if(Ss(i,h.options)&&Ss(a,h.config))return h;throw Ir.create("duplicate-app",{appName:o})}const d=new fS(o);for(const v of hd.values())d.addComponent(v);const y=new aA(i,a,d);return hc.set(o,y),y}function lv(s=cd){const e=hc.get(s);if(!e&&s===cd&&tv())return av();if(!e)throw Ir.create("no-app",{appName:s});return e}function Cr(s,e,i){let a=iA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(d.join(" "));return}Na(new As(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebase-heartbeat-database",oA=1,uo="firebase-heartbeat-store";let Wf=null;function ov(){return Wf||(Wf=RS(lA,oA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(uo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ir.create("idb-open",{originalErrorMessage:s.message})})),Wf}async function uA(s){try{const i=(await ov()).transaction(uo),a=await i.objectStore(uo).get(uv(s));return await i.done,a}catch(e){if(e instanceof Li)xi.warn(e.message);else{const i=Ir.create("idb-get",{originalErrorMessage:e?.message});xi.warn(i.message)}}}async function By(s,e){try{const a=(await ov()).transaction(uo,"readwrite");await a.objectStore(uo).put(e,uv(s)),await a.done}catch(i){if(i instanceof Li)xi.warn(i.message);else{const a=Ir.create("idb-set",{originalErrorMessage:i?.message});xi.warn(a.message)}}}function uv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=1024,hA=30;class fA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=jy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hA){const o=gA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jy(),{heartbeatsToSend:i,unsentEntries:a}=dA(this._heartbeatsCache.heartbeats),o=cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xi.warn(e),""}}}function jy(){return new Date().toISOString().substring(0,10)}function dA(s,e=cA){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Hy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Hy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class mA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return By(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Hy(s){return cc(JSON.stringify({version:2,heartbeats:s})).length}function gA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(s){Na(new As("platform-logger",e=>new CS(e),"PRIVATE")),Na(new As("heartbeat",e=>new fA(e),"PRIVATE")),Cr(ud,ky,s),Cr(ud,ky,"esm2020"),Cr("fire-js","")}pA("");var yA="firebase",_A="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(yA,_A,"app");function cv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vA=cv,hv=new _o("auth","Firebase",cv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Dd("@firebase/auth");function EA(s,...e){fc.logLevel<=Dt.WARN&&fc.warn(`Auth (${za}): ${s}`,...e)}function ec(s,...e){fc.logLevel<=Dt.ERROR&&fc.error(`Auth (${za}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(s,...e){throw Md(s,...e)}function si(s,...e){return Md(s,...e)}function fv(s,e,i){const a={...vA(),[e]:i};return new _o("auth","Firebase",a).create(e,{appName:s.name})}function Dr(s){return fv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Md(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return hv.create(s,...e)}function ft(s,e,...i){if(!s)throw Md(e,...i)}function Oi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ec(e),new Error(e)}function Pi(s,e){s||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(){return typeof self<"u"&&self.location?.href||""}function TA(){return qy()==="http:"||qy()==="https:"}function qy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TA()||Z0()||"connection"in navigator)?navigator.onLine:!0}function AA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Pi(i>e,"Short delay should be less than long delay!"),this.isMobile=Q0()||$0()}get(){return SA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(s,e){Pi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wA=new Eo(3e4,6e4);function Ds(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ur(s,e,i,a,o={}){return mv(s,o,async()=>{let h={},d={};a&&(e==="GET"?d=a:h={body:JSON.stringify(a)});const y=vo({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...h};return X0()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ka(s.emulatorConfig.host)&&(_.credentials="include"),dv.fetch()(await gv(s,s.config.apiHost,i,y),_)})}async function mv(s,e,i){s._canInitEmulator=!1;const a={...bA,...e};try{const o=new CA(s),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Ku(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ku(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ku(s,"user-disabled",d);const R=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw fv(s,R,_);qn(s,R)}}catch(o){if(o instanceof Li)throw o;qn(s,"network-request-failed",{message:String(o)})}}async function Nc(s,e,i,a,o={}){const h=await Ur(s,e,i,a,o);return"mfaPendingCredential"in h&&qn(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function gv(s,e,i,a){const o=`${e}${i}?${a}`,h=s,d=h.config.emulator?Vd(s.config,o):`${s.config.apiScheme}://${o}`;return RA.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function IA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(si(this.auth,"network-request-failed")),wA.get())})}}function Ku(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=si(s,e,a);return o.customData._tokenResponse=i,o}function Gy(s){return s!==void 0&&s.enterprise!==void 0}class DA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return IA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OA(s,e){return Ur(s,"GET","/v2/recaptchaConfig",Ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(s,e){return Ur(s,"POST","/v1/accounts:delete",e)}async function dc(s,e){return Ur(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MA(s,e=!1){const i=dn(s),a=await i.getIdToken(e),o=Ud(a);ft(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:a,authTime:io(td(o.auth_time)),issuedAtTime:io(td(o.iat)),expirationTime:io(td(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function td(s){return Number(s)*1e3}function Ud(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return ec("JWT malformed, contained fewer than 3 sections"),null;try{const o=J_(i);return o?JSON.parse(o):(ec("Failed to decode base64 JWT payload"),null)}catch(o){return ec("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Fy(s){const e=Ud(s);return ft(e,"internal-error"),ft(typeof e.exp<"u","internal-error"),ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Li&&VA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function VA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=io(this.lastLoginAt),this.creationTime=io(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(s){const e=s.auth,i=await s.getIdToken(),a=await co(s,dc(e,{idToken:i}));ft(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const h=o.providerUserInfo?.length?pv(o.providerUserInfo):[],d=PA(s.providerData,h),y=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,_=y?v:!1,R={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new dd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,R)}async function xA(s){const e=dn(s);await mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function pv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(s,e){const i=await mv(s,{},async()=>{const a=vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:h}=s.config,d=await gv(s,o,"/v1/token",`key=${h}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return s.emulatorConfig&&ka(s.emulatorConfig.host)&&(v.credentials="include"),dv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function kA(s,e){return Ur(s,"POST","/v2/accounts:revokeToken",Ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ft(e.idToken,"internal-error"),ft(typeof e.idToken<"u","internal-error"),ft(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ft(e.length!==0,"internal-error");const i=Fy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await LA(e,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new wa;return a&&(ft(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(ft(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),h&&(ft(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(s,e){ft(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class jn{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new UA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await co(this,this.stsTokenManager.getToken(this.auth,e));return ft(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return MA(this,e)}reload(){return xA(this)}_assign(e){this!==e&&(ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await mc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await co(this,NA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,R=i.lastLoginAt??void 0,{uid:N,emailVerified:z,isAnonymous:X,providerData:W,stsTokenManager:st}=i;ft(N&&st,e,"internal-error");const tt=wa.fromJSON(this.name,st);ft(typeof N=="string",e,"internal-error"),Tr(a,e.name),Tr(o,e.name),ft(typeof z=="boolean",e,"internal-error"),ft(typeof X=="boolean",e,"internal-error"),Tr(h,e.name),Tr(d,e.name),Tr(y,e.name),Tr(v,e.name),Tr(_,e.name),Tr(R,e.name);const vt=new jn({uid:N,auth:e,email:o,emailVerified:z,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:tt,createdAt:_,lastLoginAt:R});return W&&Array.isArray(W)&&(vt.providerData=W.map(St=>({...St}))),v&&(vt._redirectEventId=v),vt}static async _fromIdTokenResponse(e,i,a=!1){const o=new wa;o.updateFromServerResponse(i);const h=new jn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await mc(h),h}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ft(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?pv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,y=new wa;y.updateFromIdToken(a);const v=new jn({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new dd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;function Ni(s){Pi(s instanceof Function,"Expected a class definition");let e=Yy.get(s);return e?(Pi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Yy.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}yv.type="NONE";const Qy=yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ia{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=nc(this.userKey,o.apiKey,h),this.fullPersistenceKey=nc("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await dc(this.auth,{idToken:e}).catch(()=>{});return i?jn._fromGetAccountInfoResponse(this.auth,i,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ia(Ni(Qy),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=o[0]||Ni(Qy);const d=nc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const R=await _._get(d);if(R){let N;if(typeof R=="string"){const z=await dc(e,{idToken:R}).catch(()=>{});if(!z)break;N=await jn._fromGetAccountInfoResponse(e,z,R)}else N=jn._fromJSON(e,R);_!==h&&(y=N),h=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Ia(h,e,a):(h=v[0],y&&await h._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Ia(h,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Av(e))return"Blackberry";if(bv(e))return"Webos";if(vv(e))return"Safari";if((e.includes("chrome/")||Ev(e))&&!e.includes("edge/"))return"Chrome";if(Sv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function _v(s=Fe()){return/firefox\//i.test(s)}function vv(s=Fe()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ev(s=Fe()){return/crios\//i.test(s)}function Tv(s=Fe()){return/iemobile/i.test(s)}function Sv(s=Fe()){return/android/i.test(s)}function Av(s=Fe()){return/blackberry/i.test(s)}function bv(s=Fe()){return/webos/i.test(s)}function xd(s=Fe()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function zA(s=Fe()){return xd(s)&&!!window.navigator?.standalone}function BA(){return J0()&&document.documentMode===10}function Rv(s=Fe()){return xd(s)||Sv(s)||bv(s)||Av(s)||/windows phone/i.test(s)||Tv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(s,e=[]){let i;switch(s){case"Browser":i=Ky(Fe());break;case"Worker":i=`${Ky(Fe())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${za}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((d,y)=>{try{const v=e(h);d(v)}catch(v){y(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(s,e={}){return Ur(s,"GET","/v2/passwordPolicy",Ds(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=6;class GA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xy(this),this.idTokenSubscription=new Xy(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ni(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await dc(this,{idToken:e}),a=await jn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await mc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Dr(this));const i=e?dn(e):null;return i&&ft(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HA(this),i=new GA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _o("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await kA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ni(e)||this._popupRedirectResolver;ft(i,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[Ni(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ba(s){return dn(s)}class Xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(i=>this.observer=i)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YA(s){Mc=s}function Iv(s){return Mc.loadJS(s)}function QA(){return Mc.recaptchaEnterpriseScript}function KA(){return Mc.gapiScript}function XA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class ZA{constructor(){this.enterprise=new $A}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class $A{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const JA="recaptcha-enterprise",Cv="NO_RECAPTCHA";class WA{constructor(e){this.type=JA,this.auth=Ba(e)}async verify(e="verify",i=!1){async function a(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,y)=>{OA(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const _=new DA(v);return h.tenantId==null?h._agentRecaptchaConfig=_:h._tenantRecaptchaConfigs[h.tenantId]=_,d(_.siteKey)}}).catch(v=>{y(v)})})}function o(h,d,y){const v=window.grecaptcha;Gy(v)?v.enterprise.ready(()=>{v.enterprise.execute(h,{action:e}).then(_=>{d(_)}).catch(()=>{d(Cv)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZA().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{a(this.auth).then(y=>{if(!i&&Gy(window.grecaptcha))o(y,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let v=QA();v.length!==0&&(v+=y),Iv(v).then(()=>{o(y,h,d)}).catch(_=>{d(_)})}}).catch(y=>{d(y)})})}}async function Zy(s,e,i,a=!1,o=!1){const h=new WA(s);let d;if(o)d=Cv;else try{d=await h.verify(i)}catch{d=await h.verify(i,!0)}const y={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const v=y.phoneEnrollmentInfo.phoneNumber,_=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const v=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return a?Object.assign(y,{captchaResp:d}):Object.assign(y,{captchaResponse:d}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function $y(s,e,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Zy(s,e,i,i==="getOobCode");return a(s,h)}else return a(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Zy(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(s,e){const i=Nd(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(Ss(h,e??{}))return o;qn(o,"already-initialized")}return i.initialize({options:e})}function e1(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ni);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function n1(s,e,i){const a=Ba(s);ft(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,h=Dv(e),{host:d,port:y}=i1(e),v=y===null?"":`:${y}`,_={url:`${h}//${d}${v}/`},R=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ft(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ft(Ss(_,a.config.emulator)&&Ss(R,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=R,a.settings.appVerificationDisabledForTesting=!0,ka(d)?(nv(`${h}//${d}${v}`),iv("Auth",!0)):r1()}function Dv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function i1(s){const e=Dv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const h=o[1];return{host:h,port:Jy(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:Jy(d)}}}function Jy(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function r1(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,i){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function s1(s,e){return Ur(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(s,e){return Nc(s,"POST","/v1/accounts:signInWithPassword",Ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(s,e){return Nc(s,"POST","/v1/accounts:signInWithEmailLink",Ds(s,e))}async function o1(s,e){return Nc(s,"POST","/v1/accounts:signInWithEmailLink",Ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Pd{constructor(e,i,a,o=null){super("password",a),this._email=e,this._password=i,this._tenantId=o}static _fromEmailAndPassword(e,i){return new ho(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new ho(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(e,i,"signInWithPassword",a1);case"emailLink":return l1(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(e,a,"signUpPassword",s1);case"emailLink":return o1(e,{idToken:i,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(s,e){return Nc(s,"POST","/v1/accounts:signInWithIdp",Ds(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="http://localhost";class bs extends Pd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):qn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...h}=i;if(!a||!o)return null;const d=new bs(a,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ca(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ca(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ca(e,i)}buildRequest(){const e={requestUri:u1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=vo(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h1(s){const e=Wl(to(s)).link,i=e?Wl(to(e)).deep_link_id:null,a=Wl(to(s)).deep_link_id;return(a?Wl(to(a)).link:null)||a||i||e||s}class Ld{constructor(e){const i=Wl(to(e)),a=i.apiKey??null,o=i.oobCode??null,h=c1(i.mode??null);ft(a&&o&&h,"argument-error"),this.apiKey=a,this.operation=h,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=h1(e);try{return new Ld(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,i){return ho._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Ld.parseLink(i);return ft(a,"argument-error"),ho._fromEmailAndCode(e,a.code,a.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Ov{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends To{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends To{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return bs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ar.credential(i,a)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends To{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends To{constructor(){super("twitter.com")}static credential(e,i){return bs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Rr.credential(i,a)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const h=await jn._fromIdTokenResponse(e,a,o),d=Wy(a);return new Ma({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Wy(a);return new Ma({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Wy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Li{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,gc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new gc(e,i,a,o)}}function Nv(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?gc._fromErrorAndOperation(s,h,e,a):h})}async function f1(s,e,i=!1){const a=await co(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ma._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(s,e,i=!1){const{auth:a}=s;if(kn(a.app))return Promise.reject(Dr(a));const o="reauthenticate";try{const h=await co(s,Nv(a,o,e,s),i);ft(h.idToken,a,"internal-error");const d=Ud(h.idToken);ft(d,a,"internal-error");const{sub:y}=d;return ft(s.uid===y,a,"user-mismatch"),Ma._forOperation(s,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&qn(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mv(s,e,i=!1){if(kn(s.app))return Promise.reject(Dr(s));const a="signIn",o=await Nv(s,a,e),h=await Ma._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(h.user),h}async function m1(s,e){return Mv(Ba(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(s){const e=Ba(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function p1(s,e,i){return kn(s.app)?Promise.reject(Dr(s)):m1(dn(s),ja.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&g1(s),a})}function y1(s,e,i,a){return dn(s).onIdTokenChanged(e,i,a)}function _1(s,e,i){return dn(s).beforeAuthStateChanged(e,i)}function v1(s,e,i,a){return dn(s).onAuthStateChanged(e,i,a)}function E1(s){return dn(s).signOut()}const pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=1e3,S1=10;class Uv extends Vv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);BA()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,S1):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},T1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uv.type="LOCAL";const A1=Uv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends Vv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}xv.type="SESSION";const Pv=xv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Vc(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,h)),v=await b1(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((y,v)=>{const _=kd("",20);o.port1.start();const R=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(N){const z=N;if(z.data.eventId===_)switch(z.data.status){case"ack":clearTimeout(R),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(z.data.response);break;default:clearTimeout(R),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function w1(s){ai().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function I1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C1(){return navigator?.serviceWorker?.controller||null}function D1(){return Lv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="firebaseLocalStorageDb",O1=1,yc="firebaseLocalStorage",zv="fbase_key";class So{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Uc(s,e){return s.transaction([yc],e?"readwrite":"readonly").objectStore(yc)}function N1(){const s=indexedDB.deleteDatabase(kv);return new So(s).toPromise()}function md(){const s=indexedDB.open(kv,O1);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(yc,{keyPath:zv})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(yc)?e(a):(a.close(),await N1(),e(await md()))})})}async function t_(s,e,i){const a=Uc(s,!0).put({[zv]:e,value:i});return new So(a).toPromise()}async function M1(s,e){const i=Uc(s,!1).get(e),a=await new So(i).toPromise();return a===void 0?null:a.value}function e_(s,e){const i=Uc(s,!0).delete(e);return new So(i).toPromise()}const V1=800,U1=3;class Bv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await md(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>U1)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vc._getInstance(D1()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I1(),!this.activeServiceWorker)return;this.sender=new R1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await md();return await t_(e,pc,"1"),await e_(e,pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>t_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>M1(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>e_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const h=Uc(o,!1).getAll();return new So(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:h}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bv.type="LOCAL";const x1=Bv;new Eo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(s,e){return e?Ni(e):(ft(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Pd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ca(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function L1(s){return Mv(s.auth,new zd(s),s.bypassAuthState)}function k1(s){const{auth:e,user:i}=s;return ft(i,e,"internal-error"),d1(i,new zd(s),s.bypassAuthState)}async function z1(s){const{auth:e,user:i}=s;return ft(i,e,"internal-error"),f1(i,new zd(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i,a,o,h=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:h,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L1;case"linkViaPopup":case"linkViaRedirect":return z1;case"reauthViaPopup":case"reauthViaRedirect":return k1;default:qn(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Eo(2e3,1e4);class Ra extends jv{constructor(e,i,a,o,h){super(e,i,o,h),this.provider=a,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ft(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=kd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B1.get())};e()}}Ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="pendingRedirect",ic=new Map;class H1 extends jv{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const a=await q1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q1(s,e){const i=Y1(e),a=F1(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function G1(s,e){ic.set(s._key(),e)}function F1(s){return Ni(s._redirectPersistence)}function Y1(s){return nc(j1,s.config.apiKey,s.name)}async function Q1(s,e,i=!1){if(kn(s.app))return Promise.reject(Dr(s));const a=Ba(s),o=P1(a,e),d=await new H1(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=600*1e3;class X1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z1(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Hv(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(si(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K1&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Hv({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Z1(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hv(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(s,e={}){return Ur(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W1=/^https?/;async function tb(s){if(s.config.emulator)return;const{authorizedDomains:e}=await $1(s);for(const i of e)try{if(eb(i))return}catch{}qn(s,"unauthorized-domain")}function eb(s){const e=fd(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!W1.test(i))return!1;if(J1.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Eo(3e4,6e4);function i_(){const s=ai().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function ib(s){return new Promise((e,i)=>{function a(){i_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i_(),i(si(s,"network-request-failed"))},timeout:nb.get()})}if(ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ai().gapi?.load)a();else{const o=XA("iframefcb");return ai()[o]=()=>{gapi.load?a():i(si(s,"network-request-failed"))},Iv(`${KA()}?onload=${o}`).catch(h=>i(h))}}).catch(e=>{throw rc=null,e})}let rc=null;function rb(s){return rc=rc||ib(s),rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Eo(5e3,15e3),ab="__/auth/iframe",lb="emulator/auth/iframe",ob={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ub=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cb(s){const e=s.config;ft(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Vd(e,lb):`https://${s.config.authDomain}/${ab}`,a={apiKey:e.apiKey,appName:s.name,v:za},o=ub.get(s.config.apiHost);o&&(a.eid=o);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${vo(a).slice(1)}`}async function hb(s){const e=await rb(s),i=ai().gapi;return ft(i,s,"internal-error"),e.open({where:document.body,url:cb(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ob,dontclear:!0},a=>new Promise(async(o,h)=>{await a.restyle({setHideOnLeave:!1});const d=si(s,"network-request-failed"),y=ai().setTimeout(()=>{h(d)},sb.get());function v(){ai().clearTimeout(y),o(a)}a.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},db=500,mb=600,gb="_blank",pb="http://localhost";class r_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yb(s,e,i,a=db,o=mb){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v={...fb,width:a.toString(),height:o.toString(),top:h,left:d},_=Fe().toLowerCase();i&&(y=Ev(_)?gb:i),_v(_)&&(e=e||pb,v.scrollbars="yes");const R=Object.entries(v).reduce((z,[X,W])=>`${z}${X}=${W},`,"");if(zA(_)&&y!=="_self")return _b(e||"",y),new r_(null);const N=window.open(e||"",y,R);ft(N,s,"popup-blocked");try{N.focus()}catch{}return new r_(N)}function _b(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="__/auth/handler",Eb="emulator/auth/handler",Tb=encodeURIComponent("fac");async function s_(s,e,i,a,o,h){ft(s.config.authDomain,s,"auth-domain-config-required"),ft(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:za,eventId:o};if(e instanceof Ov){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",sS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[R,N]of Object.entries({}))d[R]=N}if(e instanceof To){const R=e.getScopes().filter(N=>N!=="");R.length>0&&(d.scopes=R.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const v=await s._getAppCheckToken(),_=v?`#${Tb}=${encodeURIComponent(v)}`:"";return`${Sb(s)}?${vo(y).slice(1)}${_}`}function Sb({config:s}){return s.emulator?Vd(s,Eb):`https://${s.authDomain}/${vb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="webStorageSupport";class Ab{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pv,this._completeRedirectFn=Q1,this._overrideRedirectResult=G1}async _openPopup(e,i,a,o){Pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await s_(e,i,a,fd(),o);return yb(e,h,kd())}async _openRedirect(e,i,a,o){await this._originValidation(e);const h=await s_(e,i,a,fd(),o);return w1(h),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):(Pi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await hb(e),a=new X1(e);return i.register("authEvent",o=>(ft(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ed,{type:ed},o=>{const h=o?.[0]?.[ed];h!==void 0&&i(!!h),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tb(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Rv()||vv()||xd()}}const bb=Ab;var a_="@firebase/auth",l_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ib(s){Na(new As("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;ft(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wv(s)},_=new FA(a,o,h,v);return e1(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Na(new As("auth-internal",e=>{const i=Ba(e.getProvider("auth").getImmediate());return(a=>new Rb(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(a_,l_,wb(s)),Cr(a_,l_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=300,Db=ev("authIdTokenMaxAge")||Cb;let o_=null;const Ob=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Db)return;const o=i?.token;o_!==o&&(o_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Nb(s=lv()){const e=Nd(s,"auth");if(e.isInitialized())return e.getImmediate();const i=t1(s,{popupRedirectResolver:bb,persistence:[x1,A1,Pv]}),a=ev("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Ob(h.toString());_1(i,d,()=>d(i.currentUser)),y1(i,y=>d(y))}}const o=W_("auth");return o&&n1(i,`http://${o}`),i}function Mb(){return document.getElementsByTagName("head")?.[0]??document}YA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const h=si("internal-error");h.customData=o,i(h)},a.type="text/javascript",a.charset="UTF-8",Mb().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ib("Browser");var u_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bd;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function w(){}w.prototype=A.prototype,O.F=A.prototype,O.prototype=new w,O.prototype.constructor=O,O.D=function(M,C,U){for(var S=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)S[pt-2]=arguments[pt];return A.prototype[C].apply(M,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,w){w||(w=0);const M=Array(16);if(typeof A=="string")for(var C=0;C<16;++C)M[C]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(C=0;C<16;++C)M[C]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=O.g[0],w=O.g[1],C=O.g[2];let U=O.g[3],S;S=A+(U^w&(C^U))+M[0]+3614090360&4294967295,A=w+(S<<7&4294967295|S>>>25),S=U+(C^A&(w^C))+M[1]+3905402710&4294967295,U=A+(S<<12&4294967295|S>>>20),S=C+(w^U&(A^w))+M[2]+606105819&4294967295,C=U+(S<<17&4294967295|S>>>15),S=w+(A^C&(U^A))+M[3]+3250441966&4294967295,w=C+(S<<22&4294967295|S>>>10),S=A+(U^w&(C^U))+M[4]+4118548399&4294967295,A=w+(S<<7&4294967295|S>>>25),S=U+(C^A&(w^C))+M[5]+1200080426&4294967295,U=A+(S<<12&4294967295|S>>>20),S=C+(w^U&(A^w))+M[6]+2821735955&4294967295,C=U+(S<<17&4294967295|S>>>15),S=w+(A^C&(U^A))+M[7]+4249261313&4294967295,w=C+(S<<22&4294967295|S>>>10),S=A+(U^w&(C^U))+M[8]+1770035416&4294967295,A=w+(S<<7&4294967295|S>>>25),S=U+(C^A&(w^C))+M[9]+2336552879&4294967295,U=A+(S<<12&4294967295|S>>>20),S=C+(w^U&(A^w))+M[10]+4294925233&4294967295,C=U+(S<<17&4294967295|S>>>15),S=w+(A^C&(U^A))+M[11]+2304563134&4294967295,w=C+(S<<22&4294967295|S>>>10),S=A+(U^w&(C^U))+M[12]+1804603682&4294967295,A=w+(S<<7&4294967295|S>>>25),S=U+(C^A&(w^C))+M[13]+4254626195&4294967295,U=A+(S<<12&4294967295|S>>>20),S=C+(w^U&(A^w))+M[14]+2792965006&4294967295,C=U+(S<<17&4294967295|S>>>15),S=w+(A^C&(U^A))+M[15]+1236535329&4294967295,w=C+(S<<22&4294967295|S>>>10),S=A+(C^U&(w^C))+M[1]+4129170786&4294967295,A=w+(S<<5&4294967295|S>>>27),S=U+(w^C&(A^w))+M[6]+3225465664&4294967295,U=A+(S<<9&4294967295|S>>>23),S=C+(A^w&(U^A))+M[11]+643717713&4294967295,C=U+(S<<14&4294967295|S>>>18),S=w+(U^A&(C^U))+M[0]+3921069994&4294967295,w=C+(S<<20&4294967295|S>>>12),S=A+(C^U&(w^C))+M[5]+3593408605&4294967295,A=w+(S<<5&4294967295|S>>>27),S=U+(w^C&(A^w))+M[10]+38016083&4294967295,U=A+(S<<9&4294967295|S>>>23),S=C+(A^w&(U^A))+M[15]+3634488961&4294967295,C=U+(S<<14&4294967295|S>>>18),S=w+(U^A&(C^U))+M[4]+3889429448&4294967295,w=C+(S<<20&4294967295|S>>>12),S=A+(C^U&(w^C))+M[9]+568446438&4294967295,A=w+(S<<5&4294967295|S>>>27),S=U+(w^C&(A^w))+M[14]+3275163606&4294967295,U=A+(S<<9&4294967295|S>>>23),S=C+(A^w&(U^A))+M[3]+4107603335&4294967295,C=U+(S<<14&4294967295|S>>>18),S=w+(U^A&(C^U))+M[8]+1163531501&4294967295,w=C+(S<<20&4294967295|S>>>12),S=A+(C^U&(w^C))+M[13]+2850285829&4294967295,A=w+(S<<5&4294967295|S>>>27),S=U+(w^C&(A^w))+M[2]+4243563512&4294967295,U=A+(S<<9&4294967295|S>>>23),S=C+(A^w&(U^A))+M[7]+1735328473&4294967295,C=U+(S<<14&4294967295|S>>>18),S=w+(U^A&(C^U))+M[12]+2368359562&4294967295,w=C+(S<<20&4294967295|S>>>12),S=A+(w^C^U)+M[5]+4294588738&4294967295,A=w+(S<<4&4294967295|S>>>28),S=U+(A^w^C)+M[8]+2272392833&4294967295,U=A+(S<<11&4294967295|S>>>21),S=C+(U^A^w)+M[11]+1839030562&4294967295,C=U+(S<<16&4294967295|S>>>16),S=w+(C^U^A)+M[14]+4259657740&4294967295,w=C+(S<<23&4294967295|S>>>9),S=A+(w^C^U)+M[1]+2763975236&4294967295,A=w+(S<<4&4294967295|S>>>28),S=U+(A^w^C)+M[4]+1272893353&4294967295,U=A+(S<<11&4294967295|S>>>21),S=C+(U^A^w)+M[7]+4139469664&4294967295,C=U+(S<<16&4294967295|S>>>16),S=w+(C^U^A)+M[10]+3200236656&4294967295,w=C+(S<<23&4294967295|S>>>9),S=A+(w^C^U)+M[13]+681279174&4294967295,A=w+(S<<4&4294967295|S>>>28),S=U+(A^w^C)+M[0]+3936430074&4294967295,U=A+(S<<11&4294967295|S>>>21),S=C+(U^A^w)+M[3]+3572445317&4294967295,C=U+(S<<16&4294967295|S>>>16),S=w+(C^U^A)+M[6]+76029189&4294967295,w=C+(S<<23&4294967295|S>>>9),S=A+(w^C^U)+M[9]+3654602809&4294967295,A=w+(S<<4&4294967295|S>>>28),S=U+(A^w^C)+M[12]+3873151461&4294967295,U=A+(S<<11&4294967295|S>>>21),S=C+(U^A^w)+M[15]+530742520&4294967295,C=U+(S<<16&4294967295|S>>>16),S=w+(C^U^A)+M[2]+3299628645&4294967295,w=C+(S<<23&4294967295|S>>>9),S=A+(C^(w|~U))+M[0]+4096336452&4294967295,A=w+(S<<6&4294967295|S>>>26),S=U+(w^(A|~C))+M[7]+1126891415&4294967295,U=A+(S<<10&4294967295|S>>>22),S=C+(A^(U|~w))+M[14]+2878612391&4294967295,C=U+(S<<15&4294967295|S>>>17),S=w+(U^(C|~A))+M[5]+4237533241&4294967295,w=C+(S<<21&4294967295|S>>>11),S=A+(C^(w|~U))+M[12]+1700485571&4294967295,A=w+(S<<6&4294967295|S>>>26),S=U+(w^(A|~C))+M[3]+2399980690&4294967295,U=A+(S<<10&4294967295|S>>>22),S=C+(A^(U|~w))+M[10]+4293915773&4294967295,C=U+(S<<15&4294967295|S>>>17),S=w+(U^(C|~A))+M[1]+2240044497&4294967295,w=C+(S<<21&4294967295|S>>>11),S=A+(C^(w|~U))+M[8]+1873313359&4294967295,A=w+(S<<6&4294967295|S>>>26),S=U+(w^(A|~C))+M[15]+4264355552&4294967295,U=A+(S<<10&4294967295|S>>>22),S=C+(A^(U|~w))+M[6]+2734768916&4294967295,C=U+(S<<15&4294967295|S>>>17),S=w+(U^(C|~A))+M[13]+1309151649&4294967295,w=C+(S<<21&4294967295|S>>>11),S=A+(C^(w|~U))+M[4]+4149444226&4294967295,A=w+(S<<6&4294967295|S>>>26),S=U+(w^(A|~C))+M[11]+3174756917&4294967295,U=A+(S<<10&4294967295|S>>>22),S=C+(A^(U|~w))+M[2]+718787259&4294967295,C=U+(S<<15&4294967295|S>>>17),S=w+(U^(C|~A))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(C+(S<<21&4294967295|S>>>11))&4294967295,O.g[2]=O.g[2]+C&4294967295,O.g[3]=O.g[3]+U&4294967295}a.prototype.v=function(O,A){A===void 0&&(A=O.length);const w=A-this.blockSize,M=this.C;let C=this.h,U=0;for(;U<A;){if(C==0)for(;U<=w;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<A;)if(M[C++]=O.charCodeAt(U++),C==this.blockSize){o(this,M),C=0;break}}else for(;U<A;)if(M[C++]=O[U++],C==this.blockSize){o(this,M),C=0;break}}this.h=C,this.o+=A},a.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;A=this.o*8;for(var w=O.length-8;w<O.length;++w)O[w]=A&255,A/=256;for(this.v(O),O=Array(16),A=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)O[A++]=this.g[w]>>>M&255;return O};function h(O,A){var w=y;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=A(O)}function d(O,A){this.h=A;const w=[];let M=!0;for(let C=O.length-1;C>=0;C--){const U=O[C]|0;M&&U==A||(w[C]=U,M=!1)}this.g=w}var y={};function v(O){return-128<=O&&O<128?h(O,function(A){return new d([A|0],A<0?-1:0)}):new d([O|0],O<0?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return N;if(O<0)return tt(_(-O));const A=[];let w=1;for(let M=0;O>=w;M++)A[M]=O/w|0,w*=4294967296;return new d(A,0)}function R(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return tt(R(O.substring(1),A));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(A,8));let M=N;for(let U=0;U<O.length;U+=8){var C=Math.min(8,O.length-U);const S=parseInt(O.substring(U,U+C),A);C<8?(C=_(Math.pow(A,C)),M=M.j(C).add(_(S))):(M=M.j(w),M=M.add(_(S)))}return M}var N=v(0),z=v(1),X=v(16777216);s=d.prototype,s.m=function(){if(st(this))return-tt(this).m();let O=0,A=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);O+=(M>=0?M:4294967296+M)*A,A*=4294967296}return O},s.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(W(this))return"0";if(st(this))return"-"+tt(this).toString(O);const A=_(Math.pow(O,6));var w=this;let M="";for(;;){const C=Lt(w,A).g;w=vt(w,C.j(A));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(O);if(w=C,W(w))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},s.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function W(O){if(O.h!=0)return!1;for(let A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function st(O){return O.h==-1}s.l=function(O){return O=vt(this,O),st(O)?-1:W(O)?0:1};function tt(O){const A=O.g.length,w=[];for(let M=0;M<A;M++)w[M]=~O.g[M];return new d(w,~O.h).add(z)}s.abs=function(){return st(this)?tt(this):this},s.add=function(O){const A=Math.max(this.g.length,O.g.length),w=[];let M=0;for(let C=0;C<=A;C++){let U=M+(this.i(C)&65535)+(O.i(C)&65535),S=(U>>>16)+(this.i(C)>>>16)+(O.i(C)>>>16);M=S>>>16,U&=65535,S&=65535,w[C]=S<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function vt(O,A){return O.add(tt(A))}s.j=function(O){if(W(this)||W(O))return N;if(st(this))return st(O)?tt(this).j(tt(O)):tt(tt(this).j(O));if(st(O))return tt(this.j(tt(O)));if(this.l(X)<0&&O.l(X)<0)return _(this.m()*O.m());const A=this.g.length+O.g.length,w=[];for(var M=0;M<2*A;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let C=0;C<O.g.length;C++){const U=this.i(M)>>>16,S=this.i(M)&65535,pt=O.i(C)>>>16,Yt=O.i(C)&65535;w[2*M+2*C]+=S*Yt,St(w,2*M+2*C),w[2*M+2*C+1]+=U*Yt,St(w,2*M+2*C+1),w[2*M+2*C+1]+=S*pt,St(w,2*M+2*C+1),w[2*M+2*C+2]+=U*pt,St(w,2*M+2*C+2)}for(O=0;O<A;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=A;O<2*A;O++)w[O]=0;return new d(w,0)};function St(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function _t(O,A){this.g=O,this.h=A}function Lt(O,A){if(W(A))throw Error("division by zero");if(W(O))return new _t(N,N);if(st(O))return A=Lt(tt(O),A),new _t(tt(A.g),tt(A.h));if(st(A))return A=Lt(O,tt(A)),new _t(tt(A.g),A.h);if(O.g.length>30){if(st(O)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var w=z,M=A;M.l(O)<=0;)w=dt(w),M=dt(M);var C=Ut(w,1),U=Ut(M,1);for(M=Ut(M,2),w=Ut(w,2);!W(M);){var S=U.add(M);S.l(O)<=0&&(C=C.add(w),U=S),M=Ut(M,1),w=Ut(w,1)}return A=vt(O,C.j(A)),new _t(C,A)}for(C=N;O.l(A)>=0;){for(w=Math.max(1,Math.floor(O.m()/A.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(w),S=U.j(A);st(S)||S.l(O)>0;)w-=M,U=_(w),S=U.j(A);W(U)&&(U=z),C=C.add(U),O=vt(O,S)}return new _t(C,O)}s.B=function(O){return Lt(this,O).h},s.and=function(O){const A=Math.max(this.g.length,O.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)&O.i(M);return new d(w,this.h&O.h)},s.or=function(O){const A=Math.max(this.g.length,O.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)|O.i(M);return new d(w,this.h|O.h)},s.xor=function(O){const A=Math.max(this.g.length,O.g.length),w=[];for(let M=0;M<A;M++)w[M]=this.i(M)^O.i(M);return new d(w,this.h^O.h)};function dt(O){const A=O.g.length+1,w=[];for(let M=0;M<A;M++)w[M]=O.i(M)<<1|O.i(M-1)>>>31;return new d(w,O.h)}function Ut(O,A){const w=A>>5;A%=32;const M=O.g.length-w,C=[];for(let U=0;U<M;U++)C[U]=A>0?O.i(U+w)>>>A|O.i(U+w+1)<<32-A:O.i(U+w);return new d(C,O.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=R,Bd=d}).apply(typeof u_<"u"?u_:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qv,eo,Gv,sc,gd,Fv,Yv,Qv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in g))break t;g=g[P]}u=u[u.length-1],T=g[u],m=m(T),m!=T&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var g=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&g.push([T,m[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,g){return u.call.apply(u.bind,arguments)}function _(u,m,g){return _=v,_.apply(null,arguments)}function R(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function N(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(T,P,j){for(var Z=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)Z[yt-2]=arguments[yt];return m.prototype[P].apply(T,Z)}}var z=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const g=Array(m);for(let T=0;T<m;T++)g[T]=u[T];return g}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var g=typeof P;if(g=g!="object"?g:P?Array.isArray(P)?"array":g:"null",g=="array"||g=="object"&&typeof P.length=="number"){g=u.length||0;const j=P.length||0;u.length=g+j;for(let Z=0;Z<j;Z++)u[g+Z]=P[Z]}else u.push(P)}}class st{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function vt(){var u=O;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,g){const T=_t.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new st(()=>new Lt,u=>u.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Ut=!1,O=new St,A=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(w)}};function w(){for(var u;u=vt();){try{u.h.call(u.g)}catch(g){tt(g)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function pt(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}N(pt,C),pt.prototype.init=function(u,m){const g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Yt="closure_listenable_"+(Math.random()*1e6|0),H=0;function J(u,m,g,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=P,this.key=++H,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,g){for(const T in u)m.call(g,u[T],T,u)}function I(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function Q(u){const m={};for(const g in u)m[g]=u[g];return m}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let g,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(g in T)u[g]=T[g];for(let j=0;j<et.length;j++)g=et[j],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,g,T,P){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const Z=mt(u,m,T,P);return Z>-1?(m=u[Z],g||(m.fa=!1)):(m=new J(m,this.src,j,!!T,P),m.fa=g,u.push(m)),m};function Ct(u,m){const g=m.type;if(g in u.g){var T=u.g[g],P=Array.prototype.indexOf.call(T,m,void 0),j;(j=P>=0)&&Array.prototype.splice.call(T,P,1),j&&(ot(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function mt(u,m,g,T){for(let P=0;P<u.length;++P){const j=u[P];if(!j.da&&j.listener==m&&j.capture==!!g&&j.ha==T)return P}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),jt={};function wn(u,m,g,T,P){if(Array.isArray(m)){for(let j=0;j<m.length;j++)wn(u,m[j],g,T,P);return null}return g=Do(g),u&&u[Yt]?u.J(m,g,y(T)?!!T.capture:!1,P):Ga(u,m,g,!1,T,P)}function Ga(u,m,g,T,P,j){if(!m)throw Error("Invalid event type");const Z=y(P)?!!P.capture:!!P;let yt=Fa(u);if(yt||(u[Ce]=yt=new lt(u)),g=yt.add(m,g,T,Z,j),g.proxy)return g;if(T=Ms(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)U||(P=Z),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Us(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ms(){function u(g){return m.call(u.src,u.listener,g)}const m=qc;return u}function Vs(u,m,g,T,P){if(Array.isArray(m))for(var j=0;j<m.length;j++)Vs(u,m[j],g,T,P);else T=y(T)?!!T.capture:!!T,g=Do(g),u&&u[Yt]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],g=mt(m,g,T,P),g>-1&&(ot(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=Fa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mt(m,g,T,P)),(g=u>-1?m[u]:null)&&xr(g))}function xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Yt])Ct(m.i,u);else{var g=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(g,T,u.capture):m.detachEvent?m.detachEvent(Us(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Fa(m))?(Ct(g,u),g.h==0&&(g.src=null,m[Ce]=null)):ot(u)}}}function Us(u){return u in jt?jt[u]:jt[u]="on"+u}function qc(u,m){if(u.da)u=!0;else{m=new pt(m,this);const g=u.listener,T=u.ha||u.src;u.fa&&xr(u),u=g.call(T,m)}return u}function Fa(u){return u=u[Ce],u instanceof lt?u:null}var $e="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(u){return typeof u=="function"?u:(u[$e]||(u[$e]=function(m){return u.handleEvent(m)}),u[$e])}function ye(){M.call(this),this.i=new lt(this),this.M=this,this.G=null}N(ye,M),ye.prototype[Yt]=!0,ye.prototype.removeEventListener=function(u,m,g,T){Vs(this,u,m,g,T)};function Te(u,m){var g,T=u.G;if(T)for(g=[];T;T=T.G)g.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var P=m;m=new C(T,u),$(m,P)}P=!0;let j,Z;if(g)for(Z=g.length-1;Z>=0;Z--)j=m.g=g[Z],P=ui(j,T,!0,m)&&P;if(j=m.g=u,P=ui(j,T,!0,m)&&P,P=ui(j,T,!1,m)&&P,g)for(Z=0;Z<g.length;Z++)j=m.g=g[Z],P=ui(j,T,!1,m)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let T=0;T<g.length;T++)ot(g[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,g,T){return this.i.add(String(u),m,!1,g,T)},ye.prototype.K=function(u,m,g,T){return this.i.add(String(u),m,!0,g,T)};function ui(u,m,g,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let j=0;j<m.length;++j){const Z=m[j];if(Z&&!Z.da&&Z.capture==g){const yt=Z.listener,$t=Z.ha||Z.src;Z.fa&&Ct(u.i,Z),P=yt.call($t,T)!==!1&&P}}return P&&!T.defaultPrevented}function Gc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ya(u){u.g=Gc(()=>{u.g=null,u.i&&(u.i=!1,Ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fc extends M{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){M.call(this),this.h=u,this.g={}}N(Pr,M);var ki=[];function Le(u){Mt(u.g,function(m,g){this.g.hasOwnProperty(g)&&xr(m)},u),u.g={}}Pr.prototype.N=function(){Pr.Z.N.call(this),Le(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=d.JSON.stringify,Ye=d.JSON.parse,Yc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Oo(){}function No(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zi(){C.call(this,"d")}N(zi,C);function In(){C.call(this,"c")}N(In,C);var gn={},Bi=null;function xs(){return Bi=Bi||new ye}gn.Ia="serverreachability";function Qa(u){C.call(this,gn.Ia,u)}N(Qa,C);function ji(u){const m=xs();Te(m,new Qa(m))}gn.STAT_EVENT="statevent";function Ps(u,m){C.call(this,gn.STAT_EVENT,u),this.stat=m}N(Ps,C);function ae(u){const m=xs();Te(m,new Ps(m,u))}gn.Ja="timingevent";function Mo(u,m){C.call(this,gn.Ja,u),this.size=m}N(Mo,C);function Hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qi(){this.g=!0}qi.prototype.ua=function(){this.g=!1};function Ka(u,m,g,T,P,j){u.info(function(){if(u.g)if(j){var Z="",yt=j.split("&");for(let kt=0;kt<yt.length;kt++){var $t=yt[kt].split("=");if($t.length>1){const ue=$t[0];$t=$t[1];const sn=ue.split("_");Z=sn.length>=2&&sn[1]=="type"?Z+(ue+"="+$t+"&"):Z+(ue+"=redacted&")}}}else Z=null;else Z=j;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+g+`
`+Z})}function Xa(u,m,g,T,P,j,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+g+`
`+j+" "+Z})}function ci(u,m,g,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fn(u,g)+(T?" "+T:"")})}function Qc(u,m){u.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function Fn(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var g=j[u];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return mn(j)}catch{return m}}var le={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},De={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hi;function Lr(){}N(Lr,Oo),Lr.prototype.g=function(){return new XMLHttpRequest},hi=new Lr;function kr(u){return encodeURIComponent(String(u))}function Kc(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function Cn(u,m,g,T){this.j=u,this.i=m,this.l=g,this.S=T||1,this.V=new Pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gi}function Gi(){this.i=null,this.g="",this.h=!1}var Ls={},Yn={};function Qn(u,m,g){u.M=1,u.A=di(ee(m)),u.u=g,u.R=!0,Fi(u,null)}function Fi(u,m){u.F=Date.now(),zr(u),u.B=ee(u.A);var g=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Po(g.i,"t",T),u.C=0,g=u.j.L,u.h=new Gi,u.g=Qs(u.j,g?m:null,!u.u),u.P>0&&(u.O=new Fc(_(u.Y,u,u.g),u.P)),m=u.V,g=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ki[0]=P.toString()),P=ki);for(let j=0;j<P.length;j++){const Z=wn(g,P[j],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?Q(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ji(),Ka(u.i,u.v,u.B,u.l,u.S,u.u)}Cn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ke(u)==3?m.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)t:{const yt=ke(this.g),$t=this.g.ya(),kt=this.g.ca();if(!(yt<3)&&(yt!=3||this.g&&(this.h.h||this.g.la()||Zr(this.g)))){this.K||yt!=4||$t==7||($t==8||kt<=0?ji(3):ji(2)),Xn(this);var m=this.g.ca();this.X=m;var g=Yi(this);if(this.o=m==200,Xa(this.i,this.v,this.B,this.l,this.S,yt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var j=T;break e}}j=null}if(u=j)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ks(this,u);else{this.o=!1,this.m=3,ae(12),Zn(this),Br(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<g.length;)if(ue=Vo(this,g),ue==Yn){yt==4&&(this.m=4,ae(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ls){this.m=4,ae(15),ci(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ue,null),ks(this,ue);if(oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||g.length!=0||this.h.h||(this.m=1,ae(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,g,"[Invalid Chunked Response]"),Zn(this),Br(this);else if(g.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),sl(Z),Z.P=!0,ae(11))}}else ci(this.i,this.l,g,null),ks(this,g);yt==4&&Zn(this),this.o&&!this.K&&(yt==4?al(this.j,this):(this.o=!1,zr(this)))}else $r(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,ae(12)):(this.m=0,ae(13)),Zn(this),Br(this)}}}catch{}finally{}};function Yi(u){if(!oe(u))return u.g.la();const m=Zr(u.g);if(m==="")return"";let g="";const T=m.length,P=ke(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Zn(u),Br(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,g+=u.h.i.decode(m[j],{stream:!(P&&j==T-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function oe(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Vo(u,m){var g=u.C,T=m.indexOf(`
`,g);return T==-1?Yn:(g=Number(m.substring(g,T)),isNaN(g)?Ls:(T+=1,T+g>m.length?Yn:(m=m.slice(T,T+g),u.C=T+g,m)))}Cn.prototype.cancel=function(){this.K=!0,Zn(this)};function zr(u){u.T=Date.now()+u.H,Kn(u,u.H)}function Kn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Hi(_(u.aa,u),m)}function Xn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Cn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Qc(this.i,this.B),this.M!=2&&(ji(),ae(17)),Zn(this),this.m=2,Br(this)):Kn(this,this.T-u)};function Br(u){u.j.I==0||u.K||al(u.j,u)}function Zn(u){Xn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Le(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ks(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||qr(g.h,u))){if(!u.L&&qr(g.h,u)&&g.I==3){try{var T=g.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)Ys(g),$n(g);else break t;rl(g),ae(18)}}else g.xa=P[1],0<g.xa-g.K&&P[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Hi(_(g.Va,g),6e3));pn(g.h)<=1&&g.ta&&(g.ta=void 0)}else pi(g,11)}else if((u.L||g.g==u)&&Ys(g),!S(m))for(P=g.Ba.g.parse(m),m=0;m<P.length;m++){let kt=P[m];const ue=kt[0];if(!(ue<=g.K))if(g.K=ue,kt=kt[1],g.I==2)if(kt[0]=="c"){g.M=kt[1],g.ba=kt[2];const sn=kt[3];sn!=null&&(g.ka=sn,g.j.info("VER="+g.ka));const Jn=kt[4];Jn!=null&&(g.za=Jn,g.j.info("SVER="+g.za));const Nn=kt[5];Nn!=null&&typeof Nn=="number"&&Nn>0&&(T=1.5*Nn,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Mn=u.g;if(Mn){const Vn=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vn){var j=T.h;j.g||Vn.indexOf("spdy")==-1&&Vn.indexOf("quic")==-1&&Vn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(zs(j,j.h),j.h=null))}if(T.G){const ol=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(T.wa=ol,Ht(T.J,T.G,ol))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var Z=u;if(T.na=Fo(T,T.L?T.ba:null,T.W),Z.L){fi(T.h,Z);var yt=Z,$t=T.O;$t&&(yt.H=$t),yt.D&&(Xn(yt),zr(yt)),T.g=Z}else jo(T);g.i.length>0&&es(g)}else kt[0]!="stop"&&kt[0]!="close"||pi(g,7);else g.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?pi(g,7):Wr(g):kt[0]!="noop"&&g.l&&g.l.qa(kt),g.A=0)}}ji(4)}catch{}}var Xc=class{constructor(u,m){this.g=u,this.map=m}};function jr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pn(u){return u.h?1:u.g?u.g.size:0}function qr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zs(u,m){u.g?u.g.add(m):u.h=m}function fi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}jr.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return X(u.i)}var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const T=u[g].indexOf("=");let P,j=null;T>=0?(P=u[g].substring(0,T),j=u[g].substring(T+1)):P=u[g],m(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Qi(this,u.j),this.o=u.o,this.g=u.g,Gr(this,u.u),this.h=u.h,Ki(this,Lo(u.i)),this.m=u.m):u&&(m=String(u).match(js))?(this.l=!1,Qi(this,m[1]||"",!0),this.o=Fr(m[2]||""),this.g=Fr(m[3]||"",!0),Gr(this,m[4]),this.h=Fr(m[5]||"",!0),Ki(this,m[6]||"",!0),this.m=Fr(m[7]||"")):(this.l=!1,this.i=new yn(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Se(m,$a,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Se(m,$a,!0),"@"),u.push(kr(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Se(g,g.charAt(0)=="/"?Xi:Ja,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Se(g,xo)),u.join("")},Dn.prototype.resolve=function(u){const m=ee(this);let g=!!u.j;g?Qi(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var T=u.h;if(g)Gr(m,u.u);else if(g=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let Z=0;Z<P.length;){const yt=P[Z++];yt=="."?T&&Z==P.length&&j.push(""):yt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&Z==P.length&&j.push("")):(j.push(yt),T=!0)}T=j.join("/")}else T=P}return g?m.h=T:g=u.i.toString()!=="",g?Ki(m,Lo(u.i)):g=!!u.m,g&&(m.m=u.m),m};function ee(u){return new Dn(u)}function Qi(u,m,g){u.j=g?Fr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ki(u,m,g){m instanceof yn?(u.i=m,el(u.i,u.l)):(g||(m=Se(m,Uo)),u.i=new yn(m,u.l))}function Ht(u,m,g){u.i.set(m,g)}function di(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Fr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Se(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,Za),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Za(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $a=/[#\/\?@]/g,Ja=/[#\?:]/g,Xi=/[#\?]/g,Uo=/[#\?@]/g,xo=/#/g;function yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mi(u){u.g||(u.g=new Map,u.h=0,u.i&&Zc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=yn.prototype,s.add=function(u,m){mi(this),this.i=null,u=On(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Wa(u,m){mi(u),m=On(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function tl(u,m){return mi(u),m=On(u,m),u.g.has(m)}s.forEach=function(u,m){mi(this),this.g.forEach(function(g,T){g.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Hs(u,m){mi(u);let g=[];if(typeof m=="string")tl(u,m)&&(g=g.concat(u.g.get(On(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}s.set=function(u,m){return mi(this),this.i=null,u=On(this,u),tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Hs(this,u),u.length>0?String(u[0]):m):m};function Po(u,m,g){Wa(u,m),g.length>0&&(u.i=null,u.g.set(On(u,m),X(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var g=m[T];const P=kr(g);g=Hs(this,g);for(let j=0;j<g.length;j++){let Z=P;g[j]!==""&&(Z+="="+kr(g[j])),u.push(Z)}}return this.i=u.join("&")};function Lo(u){const m=new yn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function On(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function el(u,m){m&&!u.j&&(mi(u),u.i=null,u.g.forEach(function(g,T){const P=T.toLowerCase();T!=P&&(Wa(this,T),Po(this,P,g))},u)),u.j=m}function nl(u,m){const g=new qi;if(d.Image){const T=new Image;T.onload=R(Qe,g,"TestLoadImage: loaded",!0,m,T),T.onerror=R(Qe,g,"TestLoadImage: error",!1,m,T),T.onabort=R(Qe,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=R(Qe,g,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Zi(u,m){const g=new qi,T=new AbortController,P=setTimeout(()=>{T.abort(),Qe(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(P),j.ok?Qe(g,"TestPingServer: ok",!0,m):Qe(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Qe(g,"TestPingServer: error",!1,m)})}function Qe(u,m,g,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(g)}catch{}}function ko(){this.g=new Yc}function Yr(u){this.i=u.Sb||null,this.h=u.ab||!1}N(Yr,Oo),Yr.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(Qr,ye),s=Qr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,gi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ke(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$i(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $i(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ke(this):gi(this),this.readyState==3&&$i(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ke(this))},s.Na=function(u){this.g&&(this.response=u,Ke(this))},s.ga=function(){this.g&&Ke(this)};function Ke(u){u.readyState=4,u.l=null,u.j=null,u.B=null,gi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function gi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ji(u){let m="";return Mt(u,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function _n(u,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Ji(g),typeof u=="string"?g!=null&&kr(g):Ht(u,m,g))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(Kt,ye);var qs=/^https?$/i,zo=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hi.g(),this.g.onreadystatechange=z(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Kr(this,j);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)g.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())g.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zo,m,void 0)>=0)||T||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of g)this.g.setRequestHeader(j,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){Kr(this,j)}};function Kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xr(u),_e(u)}function Xr(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Te(this,"complete"),Te(this,"abort"),_e(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_e(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?il(this):this.Xa())},s.Xa=function(){il(this)};function il(u){if(u.h&&typeof h<"u"){if(u.v&&ke(u)==4)setTimeout(u.Ca.bind(u),0);else if(Te(u,"readystatechange"),ke(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=j===0){let Z=String(u.D).match(js)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!qs.test(Z?Z.toLowerCase():"")}g=T}if(g)Te(u,"complete"),Te(u,"success");else{u.o=6;try{var P=ke(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Xr(u)}}finally{_e(u)}}}}function _e(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||Te(u,"ready");try{g.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ke(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ke(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ye(m)}};function Zr(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $r(u){const m={};u=(u.g&&ke(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var g=Kc(u[T]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=m[P]||[];m[P]=j,j.push(g)}I(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Gs(u){this.za=0,this.i=[],this.j=new qi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jr("baseRetryDelayMs",5e3,u),this.Za=Jr("retryDelaySeedMs",1e4,u),this.Ta=Jr("forwardChannelMaxRetries",2,u),this.va=Jr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new jr(u&&u.concurrentRequestLimit),this.Ba=new ko,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,g,T){ae(0),this.W=u,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=Fo(this,null,this.W),es(this)};function Wr(u){if(ts(u),u.I==3){var m=u.V++,g=ee(u.J);if(Ht(g,"SID",u.M),Ht(g,"RID",m),Ht(g,"TYPE","terminate"),ns(u,g),m=new Cn(u,u.j,m),m.M=2,m.A=di(ee(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=Qs(m.j,null),m.g.ea(m.A)),m.F=Date.now(),zr(m)}Go(u)}function $n(u){u.g&&(sl(u),u.g.cancel(),u.g=null)}function ts(u){$n(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ys(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function es(u){if(!Hr(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||A(),Ut||(dt(),Ut=!0),O.add(m,u),u.D=0}}function $c(u,m){return pn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Hi(_(u.Ea,u,m),qo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Cn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=Q(j),$(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Fs(this,P,m),g=ee(this.J),Ht(g,"RID",u),Ht(g,"CVER",22),this.G&&Ht(g,"X-HTTP-Session-Id",this.G),ns(this,g),j&&(this.R?m="headers="+kr(Ji(j))+"&"+m:this.u&&_n(g,this.u,j)),zs(this.h,P),this.Ra&&Ht(g,"TYPE","init"),this.S?(Ht(g,"$req",m),Ht(g,"SID","null"),P.U=!0,Qn(P,g,null)):Qn(P,g,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||Hr(this.h)||Bo(this))};function Bo(u,m){var g;m?g=m.l:g=u.V++;const T=ee(u.J);Ht(T,"SID",u.M),Ht(T,"RID",g),Ht(T,"AID",u.K),ns(u,T),u.u&&u.o&&_n(T,u.u,u.o),g=new Cn(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Fs(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zs(u.h,g),Qn(g,T,m)}function ns(u,m){u.H&&Mt(u.H,function(g,T){Ht(m,T,g)}),u.l&&Mt({},function(g,T){Ht(m,T,g)})}function Fs(u,m,g){g=Math.min(u.i.length,g);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let yt=-1;for(;;){const $t=["count="+g];yt==-1?g>0?(yt=P[0].g,$t.push("ofs="+yt)):yt=0:$t.push("ofs="+yt);let kt=!0;for(let ue=0;ue<g;ue++){var j=P[ue].g;const sn=P[ue].map;if(j-=yt,j<0)yt=Math.max(0,P[ue].g-100),kt=!1;else try{j="req"+j+"_"||"";try{var Z=sn instanceof Map?sn:Object.entries(sn);for(const[Jn,Nn]of Z){let Mn=Nn;y(Nn)&&(Mn=mn(Nn)),$t.push(j+Jn+"="+encodeURIComponent(Mn))}}catch(Jn){throw $t.push(j+"type="+encodeURIComponent("_badmap")),Jn}}catch{T&&T(sn)}}if(kt){Z=$t.join("&");break t}}Z=void 0}return u=u.i.splice(0,g),m.G=u,Z}function jo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||A(),Ut||(dt(),Ut=!0),O.add(m,u),u.A=0}}function rl(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Hi(_(u.Da,u),qo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Ho(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Hi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ae(10),$n(this),Ho(this))};function sl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ho(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ee(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),ns(u,m),u.u&&u.o&&_n(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=di(ee(m)),g.u=null,g.R=!0,Fi(g,u)}s.Va=function(){this.C!=null&&(this.C=null,$n(this),rl(this),ae(19))};function Ys(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function al(u,m){var g=null;if(u.g==m){Ys(u),sl(u),u.g=null;var T=2}else if(qr(u.h,m))g=m.G,fi(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=xs(),Te(T,new Mo(T,g)),es(u)}else jo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&$c(u,m)||T==2&&rl(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),P){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function qo(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var g=_(u.bb,u),T=u.Ua;const P=!T;T=new Dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qi(T,"https"),di(T),P?nl(T.toString(),g):Zi(T.toString(),g)}else ae(2);u.I=0,u.l&&u.l.pa(m),Go(u),ts(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Go(u){if(u.I=0,u.ja=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function Fo(u,m,g){var T=g instanceof Dn?ee(g):new Dn(g);if(T.g!="")m&&(T.g=m+"."+T.g),Gr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const j=new Dn(null);T&&Qi(j,T),m&&(j.g=m),P&&Gr(j,P),g&&(j.h=g),T=j}return g=u.G,m=u.wa,g&&m&&Ht(T,g,m),Ht(T,"VER",u.ka),ns(u,T),T}function Qs(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new Yr({ab:g})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}s=Yo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ks(){}Ks.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){ye.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}N(Xe,ye),Xe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Wr(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=mn(u),u=g);m.i.push(new Xc(m.Ya++,u)),m.I==3&&es(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Wr(this.g),delete this.g,Xe.Z.N.call(this)};function ll(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(ll,zi);function Qo(){In.call(this),this.status=1}N(Qo,In);function Wi(u){this.g=u}N(Wi,Yo),Wi.prototype.ra=function(){Te(this.g,"a")},Wi.prototype.qa=function(u){Te(this.g,new ll(u))},Wi.prototype.pa=function(u){Te(this.g,new Qo)},Wi.prototype.oa=function(){Te(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,Qv=function(){return new Ks},Yv=function(){return xs()},Fv=gn,gd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,sc=le,De.COMPLETE="complete",Gv=De,No.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,eo=No,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,qv=Kt}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const c_="@firebase/firestore",h_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Dd("@firebase/firestore");function Aa(){return Rs.logLevel}function rt(s,...e){if(Rs.logLevel<=Dt.DEBUG){const i=e.map(jd);Rs.debug(`Firestore (${Ha}): ${s}`,...i)}}function ws(s,...e){if(Rs.logLevel<=Dt.ERROR){const i=e.map(jd);Rs.error(`Firestore (${Ha}): ${s}`,...i)}}function xc(s,...e){if(Rs.logLevel<=Dt.WARN){const i=e.map(jd);Rs.warn(`Firestore (${Ha}): ${s}`,...i)}}function jd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Kv(s,a,i)}function Kv(s,e,i){let a=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ws(a),new Error(a)}function se(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Kv(e,o,a)}function Zt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Li{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(He.UNAUTHENTICATED)))}shutdown(){}}class Ub{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xb{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){se(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Es,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Es)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(se(typeof a.accessToken=="string",31837,{l:a}),new Xv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string",2055,{h:e}),new He(e)}}class Pb{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=He.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lb{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Pb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(He.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){se(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(se(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new f_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=zb(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Pt(s,e){return s<e?-1:s>e?1:0}function pd(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),h=e.charAt(a);if(o!==h)return nd(o)===nd(h)?Pt(o,h):nd(o)?1:-1}return Pt(s.length,e.length)}const Bb=55296,jb=57343;function nd(s){const e=s.charCodeAt(0);return e>=Bb&&e<=jb}function Va(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class ri{constructor(e,i,a){i===void 0?i=0:i>e.length&&bt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&bt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ri.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Pt(e.length,i.length)}static compareSegments(e,i){const a=ri.isNumericId(e),o=ri.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ri.extractNumericId(e).compare(ri.extractNumericId(i)):pd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bd.fromString(e.substring(4,e.length-2))}}class fe extends ri{construct(e,i,a){return new fe(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const Hb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xe extends ri{construct(e,i,a){return new xe(e,i,a)}static isValidIdentifier(e){return Hb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new xe([d_])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ut(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ut(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(h(),o++)}if(h(),d)throw new ut(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xe(i)}static emptyPath(){return new xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.path=e}static fromPath(e){return new Tt(fe.fromString(e))}static fromName(e){return new Tt(fe.fromString(e).popFirst(5))}static empty(){return new Tt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return fe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tt(new fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(s,e,i){if(!i)throw new ut(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Gb(s,e,i,a){if(e===!0&&a===!0)throw new ut(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function m_(s){if(!Tt.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Zv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":bt(12329,{type:typeof s})}function yd(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qd(s);throw new ut(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s,e){const i={typeString:s};return e&&(i.value=e),i}function Ao(s,e){if(!Zv(s))throw new ut(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new ut(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,p_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*p_);return new te(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<g_)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ao(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:pe("string",te._jsonSchemaVersion),seconds:pe("number"),nanoseconds:pe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new te(0,0))}static max(){return new Wt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=-1;function Fb(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Wt.fromTimestamp(a===1e9?new te(i+1,0):new te(i,a));return new Or(o,Tt.empty(),e)}function Yb(s){return new Or(s.readTime,s.key,fo)}class Or{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Or(Wt.min(),Tt.empty(),fo)}static max(){return new Or(Wt.max(),Tt.empty(),fo)}}function Qb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Tt.comparator(s.documentKey,e.documentKey),i!==0?i:Pt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==Kb)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Y.reject(i)}static resolve(e){return new Y(((i,a)=>{i(e)}))}static reject(e){return new Y(((i,a)=>{a(e)}))}static waitFor(e){return new Y(((i,a)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>a(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Y.resolve(!1);for(const a of e)i=i.next((o=>o?Y.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new Y(((a,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((R=>{d[_]=R,++y,y===h&&a(d)}),(R=>o(R)))}}))}static doWhile(e,i){return new Y(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function Zb(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=-1;function Qd(s){return s==null}function _c(s){return s===0&&1/s==-1/0}function $b(s){return typeof s=="number"&&Number.isInteger(s)&&!_c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="";function Jb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=y_(e)),e=Wb(s.get(i),e);return y_(e)}function Wb(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case $v:i+="";break;default:i+=h}}return i}function y_(s){return s+$v+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function qa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Jv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,i){this.comparator=e,this.root=i||Ve.EMPTY}insert(e,i){return new rn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ve{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Ve.RED,this.left=o??Ve.EMPTY,this.right=h??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Ve(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ve.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Ve(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Pe(this.comparator);return i.data=e,i}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(xe.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new Pe(xe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new tR("Invalid base64 string: "+h):h}})(e);return new li(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new li(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(s){if(se(!!s,39018),typeof s=="string"){let e=0;const i=eR.exec(s);if(se(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ue(s.seconds),nanos:Ue(s.nanos)}}function Ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ua(s){return typeof s=="string"?li.fromBase64String(s):li.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="server_timestamp",tE="__type__",eE="__previous_value__",nE="__local_write_time__";function Kd(s){return(s?.mapValue?.fields||{})[tE]?.stringValue===Wv}function Xd(s){const e=s.mapValue.fields[eE];return Kd(e)?Xd(e):e}function vc(s){const e=Is(s.mapValue.fields[nE].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,i,a,o,h,d,y,v,_,R){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=R}}const Ec="(default)";class Tc{constructor(e,i){this.projectId=e,this.database=i||Ec}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__type__",iR="__max__",$u={mapValue:{}},rE="__vector__",_d="value";function Cs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Kd(s)?4:sR(s)?9007199254740991:rR(s)?10:11:bt(28295,{value:s})}function oi(s,e){if(s===e)return!0;const i=Cs(s);if(i!==Cs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return vc(s).isEqual(vc(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Is(o.timestampValue),y=Is(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Ua(o.bytesValue).isEqual(Ua(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return Ue(o.geoPointValue.latitude)===Ue(h.geoPointValue.latitude)&&Ue(o.geoPointValue.longitude)===Ue(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ue(o.integerValue)===Ue(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ue(o.doubleValue),y=Ue(h.doubleValue);return d===y?_c(d)===_c(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return Va(s.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(__(d)!==__(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!oi(d[v],y[v])))return!1;return!0})(s,e);default:return bt(52216,{left:s})}}function mo(s,e){return(s.values||[]).find((i=>oi(i,e)))!==void 0}function xa(s,e){if(s===e)return 0;const i=Cs(s),a=Cs(e);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=Ue(h.integerValue||h.doubleValue),v=Ue(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return E_(s.timestampValue,e.timestampValue);case 4:return E_(vc(s),vc(e));case 5:return pd(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=Ua(h),v=Ua(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const R=Pt(y[_],v[_]);if(R!==0)return R}return Pt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Pt(Ue(h.latitude),Ue(d.latitude));return y!==0?y:Pt(Ue(h.longitude),Ue(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return T_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[_d]?.arrayValue,R=v[_d]?.arrayValue,N=Pt(_?.values?.length||0,R?.values?.length||0);return N!==0?N:T_(_,R)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===$u.mapValue&&d===$u.mapValue)return 0;if(h===$u.mapValue)return 1;if(d===$u.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},R=Object.keys(_);v.sort(),R.sort();for(let N=0;N<v.length&&N<R.length;++N){const z=pd(v[N],R[N]);if(z!==0)return z;const X=xa(y[v[N]],_[R[N]]);if(X!==0)return X}return Pt(v.length,R.length)})(s.mapValue,e.mapValue);default:throw bt(23264,{he:i})}}function E_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pt(s,e);const i=Is(s),a=Is(e),o=Pt(i.seconds,a.seconds);return o!==0?o:Pt(i.nanos,a.nanos)}function T_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=xa(i[o],a[o]);if(h)return h}return Pt(i.length,a.length)}function Pa(s){return vd(s)}function vd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Is(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ua(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Tt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=vd(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${vd(i.fields[d])}`;return o+"}"})(s.mapValue):bt(61005,{value:s})}function ac(s){switch(Cs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xd(s);return e?16+ac(e):16;case 5:return 2*s.stringValue.length;case 6:return Ua(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+ac(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return qa(a.fields,((h,d)=>{o+=h.length+ac(d)})),o})(s.mapValue);default:throw bt(13486,{value:s})}}function Ed(s){return!!s&&"integerValue"in s}function Zd(s){return!!s&&"arrayValue"in s}function lc(s){return!!s&&"mapValue"in s}function rR(s){return(s?.mapValue?.fields||{})[iE]?.stringValue===rE}function ro(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return qa(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=ro(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ro(s.arrayValue.values[i]);return e}return{...s}}function sR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!lc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ro(i)}setAll(e){let i=xe.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=ro(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){qa(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new zn(ro(this.value))}}function sE(s){const e=[];return qa(s.fields,((i,a)=>{const o=new xe([i]);if(lc(a)){const h=sE(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,i,a,o,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ln(e,0,Wt.min(),Wt.min(),Wt.min(),zn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ln(e,1,i,Wt.min(),a,o,0)}static newNoDocument(e,i){return new Ln(e,2,i,Wt.min(),Wt.min(),zn.empty(),0)}static newUnknownDocument(e,i){return new Ln(e,3,i,Wt.min(),Wt.min(),zn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i){this.position=e,this.inclusive=i}}function S_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=Tt.comparator(Tt.fromName(d.referenceValue),i.key):a=xa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function A_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!oi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i="asc"){this.field=e,this.dir=i}}function aR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class Ie extends aE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new oR(e,i,a):i==="array-contains"?new hR(e,a):i==="in"?new fR(e,a):i==="not-in"?new dR(e,a):i==="array-contains-any"?new mR(e,a):new Ie(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new uR(e,a):new cR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(xa(i,this.value)):i!==null&&Cs(this.value)===Cs(i)&&this.matchesComparison(xa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends aE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Nr(e,i)}matches(e){return lE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lE(s){return s.op==="and"}function oE(s){return lR(s)&&lE(s)}function lR(s){for(const e of s.filters)if(e instanceof Nr)return!1;return!0}function Td(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+Pa(s.value);if(oE(s))return s.filters.map((e=>Td(e))).join(",");{const e=s.filters.map((i=>Td(i))).join(",");return`${s.op}(${e})`}}function uE(s,e){return s instanceof Ie?(function(a,o){return o instanceof Ie&&a.op===o.op&&a.field.isEqual(o.field)&&oi(a.value,o.value)})(s,e):s instanceof Nr?(function(a,o){return o instanceof Nr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,y)=>h&&uE(d,o.filters[y])),!0):!1})(s,e):void bt(19439)}function cE(s){return s instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${Pa(i.value)}`})(s):s instanceof Nr?(function(i){return i.op.toString()+" {"+i.getFilters().map(cE).join(" ,")+"}"})(s):"Filter"}class oR extends Ie{constructor(e,i,a){super(e,i,a),this.key=Tt.fromName(a.referenceValue)}matches(e){const i=Tt.comparator(e.key,this.key);return this.matchesComparison(i)}}class uR extends Ie{constructor(e,i){super(e,"in",i),this.keys=hE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class cR extends Ie{constructor(e,i){super(e,"not-in",i),this.keys=hE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function hE(s,e){return(e.arrayValue?.values||[]).map((i=>Tt.fromName(i.referenceValue)))}class hR extends Ie{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zd(i)&&mo(i.arrayValue,this.value)}}class fR extends Ie{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&mo(this.value.arrayValue,i)}}class dR extends Ie{constructor(e,i){super(e,"not-in",i)}matches(e){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!mo(this.value.arrayValue,i)}}class mR extends Ie{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>mo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i=null,a=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function b_(s,e=null,i=[],a=[],o=null,h=null,d=null){return new gR(s,e,i,a,o,h,d)}function $d(s){const e=Zt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Td(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Qd(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Pa(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Pa(a))).join(",")),e.Te=i}return e.Te}function Jd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!uE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!A_(s.startAt,e.startAt)&&A_(s.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,i=null,a=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pR(s,e,i,a,o,h,d,y){return new Pc(s,e,i,a,o,h,d,y)}function yR(s){return new Pc(s)}function R_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _R(s){return s.collectionGroup!==null}function so(s){const e=Zt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Pe(xe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Ac(h,a))})),i.has(xe.keyField().canonicalString())||e.Ie.push(new Ac(xe.keyField(),a))}return e.Ie}function Ts(s){const e=Zt(s);return e.Ee||(e.Ee=vR(e,so(s))),e.Ee}function vR(s,e){if(s.limitType==="F")return b_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new Ac(o.field,h)}));const i=s.endAt?new Sc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Sc(s.startAt.position,s.startAt.inclusive):null;return b_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Sd(s,e,i){return new Pc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function fE(s,e){return Jd(Ts(s),Ts(e))&&s.limitType===e.limitType}function dE(s){return`${$d(Ts(s))}|lt:${s.limitType}`}function Jl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>cE(o))).join(", ")}]`),Qd(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Pa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Pa(o))).join(",")),`Target(${a})`})(Ts(s))}; limitType=${s.limitType})`}function Wd(s,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Tt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,e)&&(function(a,o){for(const h of so(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,v){const _=S_(d,y,v);return d.inclusive?_<=0:_<0})(a.startAt,so(a),o)||a.endAt&&!(function(d,y,v){const _=S_(d,y,v);return d.inclusive?_>=0:_>0})(a.endAt,so(a),o))})(s,e)}function ER(s){return(e,i)=>{let a=!1;for(const o of so(s)){const h=TR(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function TR(s,e,i){const a=s.field.isKeyField()?Tt.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?xa(v,_):bt(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new rn(Tt.comparator);function bc(){return SR}const mE=new rn(Tt.comparator);function Ju(...s){let e=mE;for(const i of s)e=e.insert(i.key,i);return e}function gE(s){let e=mE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function vs(){return ao()}function pE(){return ao()}function ao(){return new Os((s=>s.toString()),((s,e)=>s.isEqual(e)))}const AR=new rn(Tt.comparator),bR=new Pe(Tt.comparator);function qe(...s){let e=bR;for(const i of s)e=e.add(i);return e}const RR=new Pe(Pt);function wR(){return RR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function yE(s){return{integerValue:""+s}}function IR(s,e){return $b(e)?yE(e):tm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function CR(s,e,i){return s instanceof Rc?(function(o,h){const d={fields:{[tE]:{stringValue:Wv},[nE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Kd(h)&&(h=Xd(h)),h&&(d.fields[eE]=h),{mapValue:d}})(i,e):s instanceof go?vE(s,e):s instanceof po?EE(s,e):(function(o,h){const d=_E(o,h),y=w_(d)+w_(o.Ae);return Ed(d)&&Ed(o.Ae)?yE(y):tm(o.serializer,y)})(s,e)}function DR(s,e,i){return s instanceof go?vE(s,e):s instanceof po?EE(s,e):i}function _E(s,e){return s instanceof wc?(function(a){return Ed(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class Rc extends Lc{}class go extends Lc{constructor(e){super(),this.elements=e}}function vE(s,e){const i=TE(e);for(const a of s.elements)i.some((o=>oi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class po extends Lc{constructor(e){super(),this.elements=e}}function EE(s,e){let i=TE(e);for(const a of s.elements)i=i.filter((o=>!oi(o,a)));return{arrayValue:{values:i}}}class wc extends Lc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function w_(s){return Ue(s.integerValue||s.doubleValue)}function TE(s){return Zd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function OR(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof go&&o instanceof go||a instanceof po&&o instanceof po?Va(a.elements,o.elements,oi):a instanceof wc&&o instanceof wc?oi(a.Ae,o.Ae):a instanceof Rc&&o instanceof Rc})(s.transform,e.transform)}class NR{constructor(e,i){this.version=e,this.transformResults=i}}class Mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kc{}function SE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new bE(s.key,Mi.none()):new Ro(s.key,s.data,Mi.none());{const i=s.data,a=zn.empty();let o=new Pe(xe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Ns(s.key,a,new Hn(o.toArray()),Mi.none())}}function MR(s,e,i){s instanceof Ro?(function(o,h,d){const y=o.value.clone(),v=C_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ns?(function(o,h,d){if(!oc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=C_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(AE(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function lo(s,e,i,a){return s instanceof Ro?(function(h,d,y,v){if(!oc(h.precondition,d))return y;const _=h.value.clone(),R=D_(h.fieldTransforms,v,d);return _.setAll(R),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Ns?(function(h,d,y,v){if(!oc(h.precondition,d))return y;const _=D_(h.fieldTransforms,v,d),R=d.data;return R.setAll(AE(h)),R.setAll(_),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((N=>N.field)))})(s,e,i,a):(function(h,d,y){return oc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function VR(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=_E(a.transform,o||null);h!=null&&(i===null&&(i=zn.empty()),i.set(a.field,h))}return i||null}function I_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Va(a,o,((h,d)=>OR(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ro extends kc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends kc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function AE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function C_(s,e,i){const a=new Map;se(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);a.set(h.field,DR(d,y,i[o]))}return a}function D_(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,CR(h,d,e))}return a}class bE extends kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UR extends kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&MR(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=lo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=lo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=pE();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=SE(d,y);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Wt.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,((i,a)=>I_(i,a)))&&Va(this.baseMutations,e.baseMutations,((i,a)=>I_(i,a)))}}class em{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){se(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return AR})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new em(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Nt;function LR(s){switch(s){case K.OK:return bt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return bt(15467,{code:s})}}function kR(s){if(s===void 0)return ws("GRPC error has no .code"),K.UNKNOWN;switch(s){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return bt(39323,{code:s})}}(Nt=ge||(ge={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Bd([4294967295,4294967295],0);class zR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ad(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BR(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function jR(s,e){return Ad(s,e.toTimestamp())}function Da(s){return se(!!s,49232),Wt.fromTimestamp((function(i){const a=Is(i);return new te(a.seconds,a.nanos)})(s))}function RE(s,e){return bd(s,e).canonicalString()}function bd(s,e){const i=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function HR(s){const e=fe.fromString(s);return se(ZR(e),10190,{key:e.toString()}),e}function Rd(s,e){return RE(s.databaseId,e.path)}function qR(s){const e=HR(s);return e.length===4?fe.emptyPath():FR(e)}function GR(s){return new fe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function FR(s){return se(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function O_(s,e,i){return{name:Rd(s,e),fields:i.value.mapValue.fields}}function YR(s,e){let i;if(e instanceof Ro)i={update:O_(s,e.key,e.value)};else if(e instanceof bE)i={delete:Rd(s,e.key)};else if(e instanceof Ns)i={update:O_(s,e.key,e.data),updateMask:XR(e.fieldMask)};else{if(!(e instanceof UR))return bt(16599,{Vt:e.type});i={verify:Rd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const y=d.transform;if(y instanceof Rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof wc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw bt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:jR(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt(27497)})(s,e.precondition)),i}function QR(s,e){return s&&s.length>0?(se(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?Da(o.updateTime):Da(h);return d.isEqual(Wt.min())&&(d=Da(h)),new NR(d,o.transformResults||[])})(i,e)))):[]}function KR(s){let e=qR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){se(a===1,65062);const R=i.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=(function(N){const z=wE(N);return z instanceof Nr&&oE(z)?z.getFilters():[z]})(i.where));let d=[];i.orderBy&&(d=(function(N){return N.map((z=>(function(W){return new Ac(ba(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(z)))})(i.orderBy));let y=null;i.limit&&(y=(function(N){let z;return z=typeof N=="object"?N.value:N,Qd(z)?null:z})(i.limit));let v=null;i.startAt&&(v=(function(N){const z=!!N.before,X=N.values||[];return new Sc(X,z)})(i.startAt));let _=null;return i.endAt&&(_=(function(N){const z=!N.before,X=N.values||[];return new Sc(X,z)})(i.endAt)),pR(e,o,d,h,y,"F",v,_)}function wE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ba(i.unaryFilter.field);return Ie.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ba(i.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ba(i.unaryFilter.field);return Ie.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ba(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ie.create(ba(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Nr.create(i.compositeFilter.filters.map((a=>wE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(s):bt(30097,{filter:s})}function ba(s){return xe.fromServerFormat(s.fieldPath)}function XR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function ZR(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.yt=e}}function JR(s){const e=KR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Cn=new tw}addToCollectionParentIndex(e,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Or.min())}updateCollectionGroup(e,i,a){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class tw{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Pe(fe.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Pe(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IE=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(IE,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new La(0)}static cr(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="LruGarbageCollector",ew=1048576;function V_([s,e],[i,a]){const o=Pt(s,i);return o===0?Pt(e,a):o}class nw{constructor(e){this.Ir=e,this.buffer=new Pe(V_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();V_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iw{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(M_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bo(i)?rt(M_,"Ignoring IndexedDB error during garbage collection: ",i):await Gd(i)}await this.Vr(3e5)}))}}class rw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(Fd.ce);const a=new nw(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(N_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,y,v,_;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o)))).next((N=>(a=N,y=Date.now(),this.removeTargets(e,a,i)))).next((N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((N=>(_=Date.now(),Aa()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${N} documents in `+(_-v)+`ms
Total Duration: ${_-R}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N}))))}}function sw(s,e){return new rw(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.changes=new Os((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&lo(a.mutation,o,Hn.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=vs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=Ju();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=vs();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,o){let h=bc();const d=ao(),y=(function(){return ao()})();return i.forEach(((v,_)=>{const R=a.get(_.key);o.has(_.key)&&(R===void 0||R.mutation instanceof Ns)?h=h.insert(_.key,_):R!==void 0?(d.set(_.key,R.mutation.getFieldMask()),lo(R.mutation,_,R.mutation.getFieldMask(),te.now())):d.set(_.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,R)=>d.set(_,R))),i.forEach(((_,R)=>y.set(_,new lw(R,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=ao();let o=new rn(((d,y)=>d-y)),h=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let R=a.get(v)||Hn.empty();R=y.applyToLocalView(_,R),a.set(v,R);const N=(o.get(y.batchId)||qe()).add(v);o=o.insert(y.batchId,N)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,R=v.value,N=pE();R.forEach((z=>{if(!h.has(z)){const X=SE(i.get(z),a.get(z));X!==null&&N.set(z,X),h=h.add(z)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,N))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return Tt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_R(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Y.resolve(vs());let y=fo,v=h;return d.next((_=>Y.forEach(_,((R,N)=>(y<N.largestBatchId&&(y=N.largestBatchId),h.get(R)?Y.resolve():this.remoteDocumentCache.getEntry(e,R).next((z=>{v=v.insert(R,z)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,qe()))).next((R=>({batchId:y,changes:gE(R)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Tt(i)).next((a=>{let o=Ju();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Ju();return this.indexManager.getCollectionParents(e,h).next((y=>Y.forEach(y,(v=>{const _=(function(N,z){return new Pc(z,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((R=>{R.forEach(((N,z)=>{d=d.insert(N,z)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((v,_)=>{const R=_.getKey();d.get(R)===null&&(d=d.insert(R,Ln.newInvalidDocument(R)))}));let y=Ju();return d.forEach(((v,_)=>{const R=h.get(v);R!==void 0&&lo(R.mutation,_,Hn.empty(),te.now()),Wd(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Da(o.createTime)}})(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:JR(o.bundledQuery),readTime:Da(o.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.overlays=new rn(Tt.comparator),this.qr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const a=vs();return Y.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),Y.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(e,i,a){const o=vs(),h=i.length+1,d=new Tt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new rn(((_,R)=>_-R));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let R=h.get(_.largestBatchId);R===null&&(R=vs(),h=h.insert(_.largestBatchId,R)),R.set(_.getKey(),_)}}const y=vs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,R)=>y.set(_,R))),!(y.size()>=o)););return Y.resolve(y)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new PR(i,a));let h=this.qr.get(i);h===void 0&&(h=qe(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.sessionToken=li.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.Qr=new Pe(we.$r),this.Ur=new Pe(we.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new we(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new we(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Tt(new fe([])),a=new we(i,e),o=new we(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Tt(new fe([])),a=new we(i,e),o=new we(i,e+1);let h=qe();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new we(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class we{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Tt.comparator(e.key,i.key)||Pt(e.Yr,i.Yr)}static Kr(e,i){return Pt(e.Yr,i.Yr)||Tt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(we.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xR(h,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new we(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Yd:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new we(i,0),o=new we(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Pe(Pt);return i.forEach((o=>{const h=new we(o,0),d=new we(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{a=a.add(y.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;Tt.isDocumentKey(h)||(h=h.child(""));const d=new we(new Tt(h),0);let y=new Pe(Pt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Y.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){se(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(o=>{const h=new we(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new we(i,0),o=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.ri=e,this.docs=(function(){return new rn(Tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Ln.newInvalidDocument(i))}getEntries(e,i){let a=bc();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ln.newInvalidDocument(o))})),Y.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=bc();const d=i.path,y=new Tt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:R}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Qb(Yb(R),a)<=0||(o.has(R.key)||Wd(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,a,o){bt(9500)}ii(e,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new mw(this)}getSize(e){return Y.resolve(this.size)}}class mw extends aw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.persistence=e,this.si=new Os((i=>$d(i)),Jd),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.oi=0,this._i=new nm,this.targetCount=0,this.ai=La.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new La(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.Pr(i),Y.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Y.waitFor(h).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(e,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Fd(0),this.li=!1,this.li=!0,this.hi=new hw,this.referenceDelegate=e(this),this.Pi=new gw(this),this.indexManager=new WR,this.remoteDocumentCache=(function(o){return new dw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new $R(i),this.Ii=new uw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new fw(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){rt("MemoryPersistence","Starting transaction:",e);const o=new pw(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class pw extends Xb{constructor(e){super(),this.currentSequenceNumber=e}}class im{constructor(e){this.persistence=e,this.Ri=new nm,this.Vi=null}static mi(e){return new im(e)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const o=Tt.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Wt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Ic{constructor(e,i){this.persistence=e,this.pi=new Os((a=>Jb(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=sw(this,i)}static mi(e,i){return new Ic(e,i)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Y.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?Y.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,h.removeEntry(d,Wt.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ac(e.data.value)),i}br(e,i,a){return Y.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Y.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=qe(),o=qe();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new rm(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return W0()?8:Zb(Fe())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new yw;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Aa()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Jl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Aa()<=Dt.DEBUG&&rt("QueryEngine","Query:",Jl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Aa()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Jl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(i))):Y.resolve())}ys(e,i){if(R_(i))return Y.resolve(null);let a=Ts(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Sd(i,null,"F"),a=Ts(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=qe(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Sd(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return R_(i)||o.isEqual(Wt.min())?Y.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?Y.resolve(null):(Aa()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jl(i)),this.vs(e,d,i,Fb(o,fo)).next((y=>y)))}))}Ds(e,i){let a=new Pe(ER(e));return i.forEach(((o,h)=>{Wd(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return Aa()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Jl(i)),this.ps.getDocumentsMatchingQuery(e,i,Or.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="LocalStore";class Ew{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new rn(Pt),this.xs=new Os((h=>$d(h)),Jd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ow(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Tw(s,e,i,a){return new Ew(s,e,i,a)}async function DE(s,e){const i=Zt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],y=[];let v=qe();for(const _ of o){d.push(_.batchId);for(const R of _.mutations)v=v.add(R.key)}for(const _ of h){y.push(_.batchId);for(const R of _.mutations)v=v.add(R.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Sw(s,e){const i=Zt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,R){const N=_.batch,z=N.keys();let X=Y.resolve();return z.forEach((W=>{X=X.next((()=>R.getEntry(v,W))).next((st=>{const tt=_.docVersions.get(W);se(tt!==null,48541),st.version.compareTo(tt)<0&&(N.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),R.addEntry(st)))}))})),X.next((()=>y.mutationQueue.removeMutationBatch(v,N)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=qe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Aw(s){const e=Zt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function bw(s,e){const i=Zt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Yd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}class U_{constructor(){this.activeTargetIds=wR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rw{constructor(){this.Mo=new U_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new U_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="ConnectivityMonitor";class P_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(x_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function wd(){return Wu===null?Wu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="RestConnection",Iw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Ec?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=wd(),y=this.zo(e,i.toUriEncodedString());rt(id,`Sending RPC '${e}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),R=ka(_);return this.Jo(e,y,v,a,R).then((N=>(rt(id,`Received RPC '${e}' ${d}: `,N),N)),(N=>{throw xc(id,`RPC '${e}' ${d} failed with error: `,N,"url: ",y,"request:",a),N}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ha})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=Iw[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class Ow extends Cw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=wd();return new Promise(((y,v)=>{const _=new qv;_.setWithCredentials(!0),_.listenOnce(Gv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case sc.NO_ERROR:const N=_.getResponseJson();rt(je,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),y(N);break;case sc.TIMEOUT:rt(je,`RPC '${e}' ${d} timed out`),v(new ut(K.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const z=_.getStatus();if(rt(je,`RPC '${e}' ${d} failed with status:`,z,"response text:",_.getResponseText()),z>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const W=X?.error;if(W&&W.status&&W.message){const st=(function(vt){const St=vt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(St)>=0?St:K.UNKNOWN})(W.status);v(new ut(st,W.message))}else v(new ut(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(K.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(je,`RPC '${e}' ${d} completed.`)}}));const R=JSON.stringify(o);rt(je,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",R,a,15)}))}T_(e,i,a){const o=wd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Qv(),y=Yv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const R=h.join("");rt(je,`Creating RPC '${e}' stream ${o}: ${R}`,v);const N=d.createWebChannel(R,v);this.I_(N);let z=!1,X=!1;const W=new Dw({Yo:tt=>{X?rt(je,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(z||(rt(je,`Opening RPC '${e}' stream ${o} transport.`),N.open(),z=!0),rt(je,`RPC '${e}' stream ${o} sending:`,tt),N.send(tt))},Zo:()=>N.close()}),st=(tt,vt,St)=>{tt.listen(vt,(_t=>{try{St(_t)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return st(N,eo.EventType.OPEN,(()=>{X||(rt(je,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),st(N,eo.EventType.CLOSE,(()=>{X||(X=!0,rt(je,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(N))})),st(N,eo.EventType.ERROR,(tt=>{X||(X=!0,xc(je,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new ut(K.UNAVAILABLE,"The operation could not be completed")))})),st(N,eo.EventType.MESSAGE,(tt=>{if(!X){const vt=tt.data[0];se(!!vt,16349);const St=vt,_t=St?.error||St[0]?.error;if(_t){rt(je,`RPC '${e}' stream ${o} received error:`,_t);const Lt=_t.status;let dt=(function(A){const w=ge[A];if(w!==void 0)return kR(w)})(Lt),Ut=_t.message;dt===void 0&&(dt=K.INTERNAL,Ut="Unknown error status: "+Lt+" with message "+_t.message),X=!0,W.a_(new ut(dt,Ut)),N.close()}else rt(je,`RPC '${e}' stream ${o} received:`,vt),W.u_(vt)}})),st(y,Fv.STAT_EVENT,(tt=>{tt.stat===gd.PROXY?rt(je,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===gd.NOPROXY&&rt(je,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(s){return new zR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class Nw{constructor(e,i,a,o,h,d,y,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ut(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mw extends Nw{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=QR(e.writeResults,e.commitTime),a=Da(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=GR(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>YR(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{}class Uw extends Vw{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,bd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(K.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,bd(i,a),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class Pw{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Co(this)&&(rt(wo,"Restarting streams for network reachability change."),await(async function(v){const _=Zt(v);_.Ea.add(4),await Io(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Bc(_)})(this))}))})),this.Ra=new xw(a,o)}}async function Bc(s){if(Co(s))for(const e of s.da)await e(!0)}async function Io(s){for(const e of s.da)await e(!1)}function Co(s){return Zt(s).Ea.size===0}async function NE(s,e,i){if(!bo(e))throw e;s.Ea.add(1),await Io(s),s.Ra.set("Offline"),i||(i=()=>Aw(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(wo,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Bc(s)}))}function ME(s,e){return e().catch((i=>NE(s,i,e)))}async function jc(s){const e=Zt(s),i=Mr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yd;for(;Lw(e);)try{const o=await bw(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,kw(e,o)}catch(o){await NE(e,o)}VE(e)&&UE(e)}function Lw(s){return Co(s)&&s.Ta.length<10}function kw(s,e){s.Ta.push(e);const i=Mr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function VE(s){return Co(s)&&!Mr(s).x_()&&s.Ta.length>0}function UE(s){Mr(s).start()}async function zw(s){Mr(s).ra()}async function Bw(s){const e=Mr(s);for(const i of s.Ta)e.ea(i.mutations)}async function jw(s,e,i){const a=s.Ta.shift(),o=em.from(a,e,i);await ME(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await jc(s)}async function Hw(s,e){e&&Mr(s).X_&&await(async function(a,o){if((function(d){return LR(d)&&d!==K.ABORTED})(o.code)){const h=a.Ta.shift();Mr(a).B_(),await ME(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await jc(a)}})(s,e),VE(s)&&UE(s)}async function k_(s,e){const i=Zt(s);i.asyncQueue.verifyOperationInProgress(),rt(wo,"RemoteStore received new credentials");const a=Co(i);i.Ea.add(3),await Io(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Bc(i)}async function qw(s,e){const i=Zt(s);e?(i.Ea.delete(2),await Bc(i)):e||(i.Ea.add(2),await Io(i),i.Ra.set("Unknown"))}function Mr(s){return s.fa||(s.fa=(function(i,a,o){const h=Zt(i);return h.sa(),new Mw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:zw.bind(null,s),r_:Hw.bind(null,s),ta:Bw.bind(null,s),na:jw.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await jc(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(wo,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,y=new sm(e,i,d,o,h);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xE(s,e){if(ws("AsyncQueue",`${e}: ${s}`),bo(s))return new ut(K.UNAVAILABLE,`${e}: ${s}`);throw s}class Gw{constructor(){this.queries=z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Zt(i),h=o.queries;o.queries=z_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(a)}))})(this,new ut(K.ABORTED,"Firestore shutting down"))}}function z_(){return new Os((s=>dE(s)),fE)}function Fw(s){s.Ca.forEach((e=>{e.next()}))}var B_,j_;(j_=B_||(B_={})).Ma="default",j_.Cache="cache";const Yw="SyncEngine";class Qw{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Os((y=>dE(y)),fE),this.Iu=new Map,this.Eu=new Set,this.du=new rn(Tt.comparator),this.Au=new Map,this.Ru=new nm,this.Vu={},this.mu=new Map,this.fu=La.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kw(s,e,i){const a=Jw(s);try{const o=await(function(d,y){const v=Zt(d),_=te.now(),R=y.reduce(((X,W)=>X.add(W.key)),qe());let N,z;return v.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let W=bc(),st=qe();return v.Ns.getEntries(X,R).next((tt=>{W=tt,W.forEach(((vt,St)=>{St.isValidDocument()||(st=st.add(vt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(X,W))).next((tt=>{N=tt;const vt=[];for(const St of y){const _t=VR(St,N.get(St.key).overlayedDocument);_t!=null&&vt.push(new Ns(St.key,_t,sE(_t.value.mapValue),Mi.exists(!0)))}return v.mutationQueue.addMutationBatch(X,_,vt,y)})).next((tt=>{z=tt;const vt=tt.applyToLocalDocumentSet(N,st);return v.documentOverlayCache.saveOverlays(X,tt.batchId,vt)}))})).then((()=>({batchId:z.batchId,changes:gE(N)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new rn(Pt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Hc(a,o.changes),await jc(a.remoteStore)}catch(o){const h=xE(o,"Failed to persist write");i.reject(h)}}function H_(s,e,i){const a=Zt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Zt(d);v.onlineState=y;let _=!1;v.queries.forEach(((R,N)=>{for(const z of N.Sa)z.va(y)&&(_=!0)})),_&&Fw(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Xw(s,e){const i=Zt(s),a=e.batch.batchId;try{const o=await Sw(i.localStore,e);LE(i,a,null),PE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Hc(i,o)}catch(o){await Gd(o)}}async function Zw(s,e,i){const a=Zt(s);try{const o=await(function(d,y){const v=Zt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let R;return v.mutationQueue.lookupMutationBatch(_,y).next((N=>(se(N!==null,37113),R=N.keys(),v.mutationQueue.removeMutationBatch(_,N)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,R,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,R))).next((()=>v.localDocuments.getDocuments(_,R)))}))})(a.localStore,e);LE(a,e,i),PE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Hc(a,o)}catch(o){await Gd(o)}}function PE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function LE(s,e,i){const a=Zt(s);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}async function Hc(s,e,i){const a=Zt(s),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const R=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(_){o.push(_);const R=rm.As(v.targetId,_);h.push(R)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const R=Zt(v);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>Y.forEach(_,(z=>Y.forEach(z.Es,(X=>R.persistence.referenceDelegate.addReference(N,z.targetId,X))).next((()=>Y.forEach(z.ds,(X=>R.persistence.referenceDelegate.removeReference(N,z.targetId,X)))))))))}catch(N){if(!bo(N))throw N;rt(vw,"Failed to update sequence numbers: "+N)}for(const N of _){const z=N.targetId;if(!N.fromCache){const X=R.Ms.get(z),W=X.snapshotVersion,st=X.withLastLimboFreeSnapshotVersion(W);R.Ms=R.Ms.insert(z,st)}}})(a.localStore,h))}async function $w(s,e){const i=Zt(s);if(!i.currentUser.isEqual(e)){rt(Yw,"User change. New user:",e.toKey());const a=await DE(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new ut(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Hc(i,a.Ls)}}function Jw(s){const e=Zt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zw.bind(null,e),e}class Cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Tw(this.persistence,new _w,e.initialUser,this.serializer)}Cu(e){return new CE(im.mi,this.serializer)}Du(e){return new Rw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cc.provider={build:()=>new Cc};class Ww extends Cc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){se(this.persistence.referenceDelegate instanceof Ic,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iw(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new CE((a=>Ic.mi(a,i)),this.serializer)}}class Id{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>H_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$w.bind(null,this.syncEngine),await qw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Gw})()}createDatastore(e){const i=zc(e.databaseInfo.databaseId),a=(function(h){return new Ow(h)})(e.databaseInfo);return(function(h,d,y,v){return new Uw(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,y){return new Pw(a,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>H_(this.syncEngine,i,0)),(function(){return P_.v()?new P_:new ww})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,R){const N=new Qw(o,h,d,y,v,_);return R&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Zt(i);rt(wo,"RemoteStore shutting down."),a.Ea.add(5),await Io(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Id.provider={build:()=>new Id};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class tI{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=He.UNAUTHENTICATED,this.clientId=Hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{rt(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=xE(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function sd(s,e){s.asyncQueue.verifyOperationInProgress(),rt(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await DE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function q_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await eI(s);rt(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>k_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>k_(e.remoteStore,o))),s._onlineComponents=e}async function eI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(Vr,"Using user provided OfflineComponentProvider");try{await sd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;xc("Error using user provided cache. Falling back to memory cache: "+i),await sd(s,new Cc)}}else rt(Vr,"Using default OfflineComponentProvider"),await sd(s,new Ww(void 0));return s._offlineComponents}async function nI(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(Vr,"Using user provided OnlineComponentProvider"),await q_(s,s._uninitializedComponentsProvider._online)):(rt(Vr,"Using default OnlineComponentProvider"),await q_(s,new Id))),s._onlineComponents}function iI(s){return nI(s).then((e=>e.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firestore.googleapis.com",F_=!0;class Y_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=F_}else this.host=e.host,this.ssl=e.ssl??F_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ew)throw new ut(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class am{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Vb;switch(a.type){case"firstParty":return new Lb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=G_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),G_.delete(i),a.terminate())})(this),Promise.resolve()}}function rI(s,e,i,a={}){s=yd(s,am);const o=ka(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(nv(`https://${y}`),iv("Firestore",!0)),h.host!==zE&&h.host!==y&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:a};if(!Ss(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,R;if(typeof a.mockUserToken=="string")_=a.mockUserToken,R=He.MOCK_USER;else{_=G0(a.mockUserToken,s._app?.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new ut(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new He(N)}s._authCredentials=new Ub(new Xv(_,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new lm(this.firestore,e,this._query)}}class Ge{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ge(this.firestore,e,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Ao(i,Ge._jsonSchema))return new Ge(e,a||null,new Tt(fe.fromString(i.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:pe("string",Ge._jsonSchemaVersion),referencePath:pe("string")};class yo extends lm{constructor(e,i,a){super(e,i,yR(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new Tt(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function sI(s,e,...i){if(s=dn(s),arguments.length===1&&(e=Hd.newId()),qb("doc","path",e),s instanceof am){const a=fe.fromString(e,...i);return m_(a),new Ge(s,null,new Tt(a))}{if(!(s instanceof Ge||s instanceof yo))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(fe.fromString(e,...i));return m_(a),new Ge(s.firestore,s instanceof yo?s.converter:null,new Tt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="AsyncQueue";class K_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OE(this,"async_queue_retry"),this._c=()=>{const a=rd();a&&rt(Q_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=rd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=rd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;rt(Q_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",X_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=sm.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:X_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function X_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class BE extends am{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new K_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K_(e),this._firestoreClient=void 0,await e}}}function aI(s,e){const i=typeof s=="object"?s:lv(),a=typeof s=="string"?s:Ec,o=Nd(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=H0("firestore");h&&rI(o,...h)}return o}function lI(s){if(s._terminated)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||oI(s),s._firestoreClient}function oI(s){const e=s._freezeSettings(),i=(function(o,h,d,y){return new nR(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new tI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(li.fromBase64String(e))}catch(i){throw new ut(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bn(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ao(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:pe("string",Bn._jsonSchemaVersion),bytes:pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(Ao(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:pe("string",Vi._jsonSchemaVersion),latitude:pe("number"),longitude:pe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ao(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new ut(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:pe("string",Ui._jsonSchemaVersion),vectorValues:pe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=/^__.*__$/;class cI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(e,this.data,i,this.fieldTransforms)}}function HE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:s})}}class um{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HE(this.Ac)&&uI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||zc(e)}Cc(e,i,a,o=!1){return new um({Ac:e,methodName:i,Dc:a,path:xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fI(s){const e=s._freezeSettings(),i=zc(s._databaseId);return new hI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function dI(s,e,i,a,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);YE("Data must be an object, but it was:",d,a);const y=GE(a,d);let v,_;if(h.merge)v=new Hn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const R=[];for(const N of h.mergeFields){const z=mI(e,N,i);if(!d.contains(z))throw new ut(K.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);pI(R,z)||R.push(z)}v=new Hn(R),_=d.fieldTransforms.filter((N=>v.covers(N.field)))}else v=null,_=d.fieldTransforms;return new cI(new zn(y),v,_)}function qE(s,e){if(FE(s=dn(s)))return YE("Unsupported field value:",e,s),GE(s,e);if(s instanceof jE)return(function(a,o){if(!HE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const y of a){let v=qE(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(a,o){if((a=dn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return IR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=te.fromDate(a);return{timestampValue:Ad(o.serializer,h)}}if(a instanceof te){const h=new te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ad(o.serializer,h)}}if(a instanceof Vi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:BR(o.serializer,a._byteString)};if(a instanceof Ge){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:RE(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ui)return(function(d,y){return{mapValue:{fields:{[iE]:{stringValue:rE},[_d]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return tm(y.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${qd(a)}`)})(s,e)}function GE(s,e){const i={};return Jv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(s,((a,o)=>{const h=qE(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof Vi||s instanceof Bn||s instanceof Ge||s instanceof jE||s instanceof Ui)}function YE(s,e,i){if(!FE(i)||!Zv(i)){const a=qd(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function mI(s,e,i){if((e=dn(e))instanceof om)return e._internalPath;if(typeof e=="string")return QE(s,e);throw Dc("Field path arguments must be of type string or ",s,!1,void 0,i)}const gI=new RegExp("[~\\*/\\[\\]]");function QE(s,e,i){if(e.search(gI)>=0)throw Dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new om(...e.split("."))._internalPath}catch{throw Dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Dc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ut(K.INVALID_ARGUMENT,y+s+v)}function pI(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class yI extends KE{data(){return super.data()}}function XE(s,e){return typeof e=="string"?QE(s,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class tc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends KE{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(XE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:pe("string",Oa._jsonSchemaVersion),bundleSource:pe("string","DocumentSnapshot"),bundleName:pe("string"),bundle:pe("string")};class uc extends Oa{data(e={}){return super.data(e)}}class oo{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new tc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new uc(this._firestore,this._userDataWriter,a.key,a,new tc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new uc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new tc(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new uc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new tc(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,R=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),R=d.indexOf(y.doc.key)),{type:vI(y.type),doc:v,oldIndex:_,newIndex:R}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:s})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:pe("string",oo._jsonSchemaVersion),bundleSource:pe("string","QuerySnapshot"),bundleName:pe("string"),bundle:pe("string")};function EI(s,e,i){s=yd(s,Ge);const a=yd(s.firestore,BE),o=_I(s.converter,e,i);return TI(a,[dI(fI(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Mi.none())])}function TI(s,e){return(function(a,o){const h=new Es;return a.asyncQueue.enqueueAndForget((async()=>Kw(await iI(a),o,h))),h.promise})(lI(s),e)}(function(e,i=!0){(function(o){Ha=o})(za),Na(new As("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new BE(new xb(a.getProvider("auth-internal")),new kb(d,a.getProvider("app-check-internal")),(function(_,R){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(_.options.projectId,R)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Cr(c_,h_,e),Cr(c_,h_,"esm2020")})();const SI={apiKey:"AIzaSyBHHl6UvVyyIg3a04sqL-Yg9HmsXhQVlHE",authDomain:"sentry-project-8f412.firebaseapp.com",projectId:"sentry-project-8f412",storageBucket:"sentry-project-8f412.firebasestorage.app",messagingSenderId:"768177512844",appId:"1:768177512844:web:57793f2876caea896cb6a9",measurementId:"G-FLDVYHHY4Z"},ZE=av(SI),ad=Nb(ZE),AI=aI(ZE);function bI(){const[s,e]=en.useState(null),[i,a]=en.useState(!0),[o,h]=en.useState(""),[d,y]=en.useState(""),[v,_]=en.useState(""),[R,N]=en.useState(!1),[z,X]=en.useState("home"),[W,st]=en.useState(""),[tt,vt]=en.useState(""),[St,_t]=en.useState([]),[Lt,dt]=en.useState({text:"",type:""}),[Ut,O]=en.useState(!1);en.useEffect(()=>{const S=v1(ad,async pt=>{e(pt),a(!1),pt&&(await chrome.runtime.sendMessage({type:"SET_CURRENT_USER",email:pt.email,displayName:pt.displayName||pt.email.split("@")[0],familyId:""}),A())});return()=>S()},[]);const A=async()=>{try{const S=await chrome.runtime.sendMessage({type:"GET_CURRENT_USER"});S.success&&(st(S.familyId||""),vt(S.familyId||""),S.familyId&&O(!0));const pt=await chrome.runtime.sendMessage({type:"GET_LOGS"});pt.success&&_t(pt.logs)}catch(S){console.error("Error loading data:",S)}},w=(S,pt="success")=>{dt({text:S,type:pt}),setTimeout(()=>dt({text:"",type:""}),3e3)},M=async S=>{S.preventDefault(),_(""),N(!0);try{await p1(ad,o,d),w("Signed in successfully!")}catch(pt){console.error("Login error:",pt),pt.code==="auth/user-not-found"?_("No account found with this email"):pt.code==="auth/wrong-password"?_("Incorrect password"):pt.code==="auth/invalid-email"?_("Invalid email address"):pt.code==="auth/invalid-credential"?_("Invalid email or password"):_("Failed to sign in. Please try again.")}finally{N(!1)}},C=async()=>{try{await E1(ad),await chrome.runtime.sendMessage({type:"SET_CURRENT_USER",email:"",displayName:"",familyId:""}),st(""),vt(""),O(!1),w("Signed out")}catch(S){console.error("Logout error:",S)}},U=async()=>{if(!tt.trim()){w("Please enter the Family ID from your parent","error");return}try{const S=tt.trim(),pt=s.email.toLowerCase();console.log("Attempting to join family:",S),console.log("User email:",pt),console.log("User authenticated:",!!s);const Yt=pt.replace("@","_at_").replace(/\./g,"_dot_"),H=sI(AI,"families",S,"members",Yt);console.log("Writing to path:",`families/${S}/members/${Yt}`),await EI(H,{email:pt,name:s.displayName||pt.split("@")[0],role:"child",parentId:null,status:"Online",lastSeen:new Date().toISOString(),addedAt:new Date().toISOString(),addedBy:"extension-auto",autoAdded:!0},{merge:!0}),console.log(" Member registered to Firestore successfully!"),(await chrome.runtime.sendMessage({type:"SET_CURRENT_USER",email:s.email,displayName:s.displayName||s.email.split("@")[0],familyId:S})).success?(st(S),O(!0),w("Joined family successfully! You now appear on the dashboard.")):(st(S),O(!0),w("Joined family successfully!"))}catch(S){console.error(" Error joining family:",S),console.error("Error code:",S.code),console.error("Error message:",S.message),w("Failed to join family: "+S.message,"error")}};return i?nt.jsxs("div",{className:"sentry-popup",children:[nt.jsxs("div",{className:"sentry-header",children:[nt.jsx("div",{className:"sentry-logo-section",children:nt.jsx("img",{src:"/images/NOBG/Sentry_Logo-removebg-preview.png",alt:"Sentry Logo",className:"sentry-logo"})}),nt.jsx("h2",{className:"sentry-title",children:"Sentry"})]}),nt.jsx("div",{className:"loading-state",children:nt.jsx("p",{children:"Loading..."})})]}):s?nt.jsxs("div",{className:"sentry-popup",children:[nt.jsxs("div",{className:"sentry-header",children:[nt.jsx("div",{className:"sentry-logo-section",children:nt.jsx("img",{src:"/images/NOBG/Sentry_Logo-removebg-preview.png",alt:"Sentry Logo",className:"sentry-logo"})}),nt.jsx("h2",{className:"sentry-title",children:"Sentry"})]}),nt.jsxs("div",{className:"current-user-badge",children:[" ",s.email,nt.jsx("button",{className:"logout-btn",onClick:C,title:"Sign out",children:""})]}),Lt.text&&nt.jsx("div",{className:`message-box ${Lt.type}`,children:Lt.text}),nt.jsxs("div",{className:"tab-nav",children:[nt.jsx("button",{className:`tab-btn ${z==="home"?"active":""}`,onClick:()=>X("home"),title:"Home",children:""}),nt.jsx("button",{className:`tab-btn ${z==="family"?"active":""}`,onClick:()=>X("family"),title:"Family",children:""})]}),nt.jsxs("div",{className:"tab-content",children:[z==="home"&&nt.jsxs("div",{className:"home-tab",children:[nt.jsx("div",{className:"sentry-status",children:nt.jsxs("p",{className:"status-text",children:["Protection is ",nt.jsx("span",{className:"sentry-status-active",children:"ON"})]})}),nt.jsxs("div",{className:"sentry-info-section",children:[nt.jsx("p",{className:"info-text",children:"Secure your family using SENTRY"}),nt.jsxs("p",{className:"info-subtext",children:[St.length," detection(s) logged"]}),W&&nt.jsx("p",{className:"info-subtext",style:{color:"#52c41a"},children:" Connected to family"})]}),nt.jsx("div",{className:"sentry-connect-section",children:nt.jsx("button",{className:"sentry-connect-button",onClick:()=>chrome.tabs.create({url:"http://localhost:5173/dashboard"}),children:"To Dashboard"})})]}),z==="family"&&nt.jsx("div",{className:"user-tab",children:Ut?nt.jsxs(nt.Fragment,{children:[nt.jsx("h3",{children:" Family Connected"}),nt.jsxs("div",{className:"current-user-info",children:[nt.jsx("p",{children:"You are connected to a family group"}),nt.jsxs("p",{className:"info-small",children:["Family ID: ",W.substring(0,12),"..."]}),nt.jsx("p",{className:"info-small",children:"Your activity is synced to the parent dashboard"})]}),nt.jsx("button",{className:"leave-family-btn",onClick:()=>{st(""),vt(""),O(!1),chrome.runtime.sendMessage({type:"SET_CURRENT_USER",email:s.email,displayName:s.displayName||s.email.split("@")[0],familyId:""}),w("Left family group")},children:"Leave Family"})]}):nt.jsxs(nt.Fragment,{children:[nt.jsx("h3",{children:"Join a Family"}),nt.jsx("p",{className:"tab-description",children:"Enter the Family ID given by your parent"}),nt.jsxs("div",{className:"input-group",children:[nt.jsx("label",{children:"Family ID"}),nt.jsx("input",{type:"text",placeholder:"Paste Family ID here...",value:tt,onChange:S=>vt(S.target.value)})]}),nt.jsx("button",{className:"save-btn",onClick:U,children:"Join Family"}),nt.jsx("div",{className:"info-box",children:nt.jsx("p",{children:" Ask your parent for the Family ID from their Sentry dashboard"})})]})})]})]}):nt.jsxs("div",{className:"sentry-popup",children:[nt.jsxs("div",{className:"sentry-header",children:[nt.jsx("div",{className:"sentry-logo-section",children:nt.jsx("img",{src:"/images/NOBG/Sentry_Logo-removebg-preview.png",alt:"Sentry Logo",className:"sentry-logo"})}),nt.jsx("h2",{className:"sentry-title",children:"Sentry"})]}),nt.jsxs("div",{className:"login-section",children:[nt.jsx("h3",{children:"Sign In"}),nt.jsx("p",{className:"tab-description",children:"Sign in with your Sentry account"}),nt.jsxs("form",{onSubmit:M,children:[nt.jsxs("div",{className:"input-group",children:[nt.jsx("label",{children:"Email"}),nt.jsx("input",{type:"email",placeholder:"your-email@gmail.com",value:o,onChange:S=>h(S.target.value),required:!0})]}),nt.jsxs("div",{className:"input-group",children:[nt.jsx("label",{children:"Password"}),nt.jsx("input",{type:"password",placeholder:"",value:d,onChange:S=>y(S.target.value),required:!0})]}),v&&nt.jsx("div",{className:"message-box error",children:v}),nt.jsx("button",{type:"submit",className:"save-btn",disabled:R,children:R?"Signing in...":"Sign In"})]}),nt.jsxs("div",{className:"signup-link",children:[nt.jsx("p",{children:"Don't have an account?"}),nt.jsx("button",{className:"link-btn",onClick:()=>chrome.tabs.create({url:"http://localhost:5173/signup"}),children:"Create account on website"})]})]})]})}V0.createRoot(document.getElementById("root")).render(nt.jsx(en.StrictMode,{children:nt.jsx(bI,{})}));
